<html>
<head>
  <title>MySQL_存储过程_函数</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601568 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="418"/>
<h1>MySQL_存储过程_函数</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">存储过程和函数</h2>
<div style="line-height: 160%; box-sizing: content-box;"><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">存储过程和函数
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">存储过程是什么
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">函数是什么
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">MySQL变量
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">创建存储过程
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">调用存储过程
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">创建函数
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">调用函数
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">删除存储过程或函数
</a></li></ul></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">分支结构
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">循环结构
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">循环控制语句
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">循环结构
</a></li></ul></li></ul></li></ul></div><h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">存储过程是什么</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">存储过程是一组SQL的集合，类似于Java中的方法，将一组完成特定功能的SQL和逻辑语句封装起来，对外只暴露一个名字，通过调用存储过程可以实现封装好的功能</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">函数是什么</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">函数和存储过程相似，也是一组SQL和逻辑语句的封装，和存储过程不同的是，函数必须且仅有一个返回值，而存储过程的返回值有无和返回值个数都是可选的。</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">MySQL变量</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">上面说存储过程和函数类似Java中的方法，既然类似方法，那么方法中一定会有变量，我们先补充一下MySQL中变量的知识<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">变量的种类</strong><br/>
<img src="MySQL_存储过程_函数_files/MySQL变量类型(1).png" type="image/png" data-filename="MySQL变量类型(1).png"/><br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">系统变量</strong><br/>
系统变量是不需要定义的，我们只能使用或修改它们的值。全局变量的作用域是服务层面的，即对所有的连接生效，但重启服务器会使修改后的全局变量变回默认值，我们可以通过修改配置文件来做到永久修改全局变量的值。而会话变量自然就是针对一次会话或者说一个连接生效的。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#查看系统变量</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#括号内容可选，不写的话默认是查看会话变量(session)</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">show</span> [<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">global</span>|<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">session</span>] <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">variables</span>

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#查看指定系统变量的值</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#括号内容不写默认是session</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @@[<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">global</span>|<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">session</span>].[变量名]

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#赋值</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> [<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">global</span>|<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">session</span>].[变量名] = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'值'</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @@global.[变量名] =<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'值'</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @@session.[变量名] =<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'值'</span>
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">自定义变量</strong><br/>
用户变量的作用域是整个会话(连接)，可以给它理解成是咱自己定义的会话变量，而局部变量顾名思义只能局部使用，它的作用域是存储过程或者函数内。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">用户变量</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#声明并赋值</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @变量名=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @变量名:=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @变量名:=值;

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#修改用户变量的值</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#==========跟定义时候一样START========</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @变量名=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @变量名:=值;
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#注意使用这种方式赋值一定要加上冒号，单独的等号会被认为是比较符号</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @变量名:=值; 
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#===========跟定义时候一样END=========</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> [字段名] <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">into</span> @变量名 <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">from</span> 表名;

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#使用</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @变量名;
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">局部变量<br/>
注意局部变量一定要定义在存储过程或函数的第一行！</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#声明</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">declare</span> 变量名 变量类型 <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">default</span> [默认值] ;

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#赋值或更新</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> 变量名=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> 变量名:=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> 变量名:=值;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> xx <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">into</span> 变量名 <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">from</span> 表;

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#使用</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> 变量名;
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">创建存储过程</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">create</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">procedure</span> 存储过程名(参数模式 参数名 参数类型)
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#存储过程体中可以有多条sql语句，如果仅仅一条sql语句，则可以省略begin end</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
    存储过程体  <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#注意：存储过程中的每一个SQL都需要用分号结尾</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">调用存储过程</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">call</span> 存储过程名(实参列表)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">参数模式有三种，用来标记这个参数的功能</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">in:该参数只能作为输入 （该参数不能做返回值）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">out：该参数只能作为输出（该参数只能做返回值）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">inout：既能做输入又能做输出</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">create</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">procedure</span> 存储过程名(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> userName <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">varchar</span>(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>))
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
   <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#在方法体中可以直接使用userName,就跟正常的列名一样使用</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @usetName=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;传入的值&quot;</span>;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">call</span> 存储过程名(@usetName);
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">create</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">procedure</span> 存储过程名(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">out</span> userName <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">varchar</span>(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>))
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
   <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#在方法体中给userName赋值，调用的时候传进一个变量，调用完成后这个变量就会被赋值</span>
   <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> xx <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">into</span> userName <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">from</span> 表名
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#用来接收参数</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @usetName=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span>;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">call</span> 存储过程名(@usetName);
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#输出接收的值</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @usetName
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">create</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">procedure</span> 存储过程名(inout userName <span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">varchar</span>(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>))
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
   <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#inout 既可以传入参数，又可以输出</span>
   <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> xx <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">into</span> userName <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">from</span> 表名
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">set</span> @usetName=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;传入的值&quot;</span>;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">call</span> 存储过程名(@usetName);
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#输出接受的值</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> @usetName
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">创建函数</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">create</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">function</span> 函数名(参数名 参数类型,...) <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">returns</span> 返回类型
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#注意，函数体中一定要有return语句</span>
    函数体
 <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">调用函数</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">SELECT</span> 函数名（实参列表）
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">删除存储过程或函数</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">drop</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">procedure</span> 存储过程名;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">drop</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">function</span> 函数名；
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">函数和存储过程乍一看差不多，但函数要求有且仅有一个返回值，所以函数多数用来做对数据复杂处理，最后返回一个结果，而存储过程多用来批量插入或者更新数据</p>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;"></th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">关键字</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">调用语法</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">返回值</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">函数</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">FUNCTION</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">SELECT 函数()</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">只能是一个</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">存储过程</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PROCEDURE</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">CALL 存储过程()</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">可以有0个或多个</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">存储过程或函数中的SQL需要搭配流程控制语句才可以实现各种复杂功能，下面介绍MySQL中的流程控制语句<br/>
<img src="MySQL_存储过程_函数_files/流程控制(1).png" type="image/png" data-filename="流程控制(1).png"/></p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">分支结构</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">IF函数：实现简单双分支</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#条件为真输出值1，否则输出值2，相当于Java中的三元运算符</span>
if(条件，值1，值2)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CASE结构：可以作为表达式放在任何位置，实现多分支</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#作为表达式结合着其他语句使用</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">select</span> *
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">from</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">case</span>  表达式或字段
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">when</span> 值<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">then</span> 语句<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>(在这里就是表的名字了)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">when</span> 值<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">then</span> 语句<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>
..

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> 语句n
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">case</span>;

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#放在begin end 里面，一般作为独立的语句使用</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">case</span> 
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">when</span> 条件<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">then</span> 语句<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;
when 条件2 then 语句2；
..
else 语句n;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> [<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">case</span>];

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">IF结构：实现多分支</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#if 结构只能放在begin end 方法体内</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> 条件<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">then</span> 语句<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
elseif 条件<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">then</span> 语句<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>
...
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> 语句n;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span>;
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">循环结构</h4>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">循环语句必须放在begin end中</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">如果循环中添加了循环控制语句（leave或iterate）则必须添加名称，用来标记从哪里重新进行循环或跳出到哪里</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">loop一般用于实现简单的死循环，可以添加循环控制来跳出循环。while先判断后执行，和Java中的while相似。repeat先执行后判断，无条件至少执行一次，和Java中的do while相似。</li>
</ul>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">循环控制语句</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">leave：类似于break，用于跳出所在的循环</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">iterate：类似于continue，用于结束本次循环，继续下一次</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">循环控制语句后面接循环名才可以实现对应的功能</strong></p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">循环结构</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">begin</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#while</span>
[名称]:<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">while</span> 
    循环条件
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">do</span>
    循环体
    [leave|<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">iterate</span>][名称]
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">while</span> [名称];
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#loop</span>
[名称]:loop
    循环体
    [leave|iterate][名称]
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">loop</span> [名称];
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">#repeat</span>
[名称]:repeat
    循环体
    [leave|iterate][名称]    
until 
    结束条件 
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">repeat</span> [名称];
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%0A%23%23%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%0A%5Btoc%5D%0A%23%23%23%23%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%0A%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%98%AF%E4%B8%80%E7%BB%84SQL%E7%9A%84%E9%9B%86%E5%90%88%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8EJava%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%B0%86%E4%B8%80%E7%BB%84%E5%AE%8C%E6%88%90%E7%89%B9%E5%AE%9A%E5%8A%9F%E8%83%BD%E7%9A%84SQL%E5%92%8C%E9%80%BB%E8%BE%91%E8%AF%AD%E5%8F%A5%E5%B0%81%E8%A3%85%E8%B5%B7%E6%9D%A5%EF%BC%8C%E5%AF%B9%E5%A4%96%E5%8F%AA%E6%9A%B4%E9%9C%B2%E4%B8%80%E4%B8%AA%E5%90%8D%E5%AD%97%EF%BC%8C%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E5%B0%81%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8A%9F%E8%83%BD%0A%23%23%23%23%20%E5%87%BD%E6%95%B0%E6%98%AF%E4%BB%80%E4%B9%88%0A%E5%87%BD%E6%95%B0%E5%92%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9B%B8%E4%BC%BC%EF%BC%8C%E4%B9%9F%E6%98%AF%E4%B8%80%E7%BB%84SQL%E5%92%8C%E9%80%BB%E8%BE%91%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%B0%81%E8%A3%85%EF%BC%8C%E5%92%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%EF%BC%8C%E5%87%BD%E6%95%B0%E5%BF%85%E9%A1%BB%E4%B8%94%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E8%80%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E6%9C%89%E6%97%A0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%AA%E6%95%B0%E9%83%BD%E6%98%AF%E5%8F%AF%E9%80%89%E7%9A%84%E3%80%82%0A%23%23%23%23%23%20MySQL%E5%8F%98%E9%87%8F%0A%E4%B8%8A%E9%9D%A2%E8%AF%B4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E7%B1%BB%E4%BC%BCJava%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E6%97%A2%E7%84%B6%E7%B1%BB%E4%BC%BC%E6%96%B9%E6%B3%95%EF%BC%8C%E9%82%A3%E4%B9%88%E6%96%B9%E6%B3%95%E4%B8%AD%E4%B8%80%E5%AE%9A%E4%BC%9A%E6%9C%89%E5%8F%98%E9%87%8F%EF%BC%8C%E6%88%91%E4%BB%AC%E5%85%88%E8%A1%A5%E5%85%85%E4%B8%80%E4%B8%8BMySQL%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E7%9F%A5%E8%AF%86%0A**%E5%8F%98%E9%87%8F%E7%9A%84%E7%A7%8D%E7%B1%BB**%0A!%5Befd7b295c6e5196cbb35a2e7c95b3725.png%5D(en-resource%3A%2F%2Fdatabase%2F830%3A1)%0A**%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F**%0A%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E6%98%AF%E4%B8%8D%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E8%83%BD%E4%BD%BF%E7%94%A8%E6%88%96%E4%BF%AE%E6%94%B9%E5%AE%83%E4%BB%AC%E7%9A%84%E5%80%BC%E3%80%82%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%B1%82%E9%9D%A2%E7%9A%84%EF%BC%8C%E5%8D%B3%E5%AF%B9%E6%89%80%E6%9C%89%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%94%9F%E6%95%88%EF%BC%8C%E4%BD%86%E9%87%8D%E5%90%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E4%BD%BF%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%8F%98%E5%9B%9E%E9%BB%98%E8%AE%A4%E5%80%BC%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%A5%E5%81%9A%E5%88%B0%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E3%80%82%E8%80%8C%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F%E8%87%AA%E7%84%B6%E5%B0%B1%E6%98%AF%E9%92%88%E5%AF%B9%E4%B8%80%E6%AC%A1%E4%BC%9A%E8%AF%9D%E6%88%96%E8%80%85%E8%AF%B4%E4%B8%80%E4%B8%AA%E8%BF%9E%E6%8E%A5%E7%94%9F%E6%95%88%E7%9A%84%E3%80%82%0A%60%60%60sql%0A%23%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%0A%23%E6%8B%AC%E5%8F%B7%E5%86%85%E5%AE%B9%E5%8F%AF%E9%80%89%EF%BC%8C%E4%B8%8D%E5%86%99%E7%9A%84%E8%AF%9D%E9%BB%98%E8%AE%A4%E6%98%AF%E6%9F%A5%E7%9C%8B%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F(session)%0Ashow%20%5Bglobal%7Csession%5D%20variables%0A%0A%23%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%0A%23%E6%8B%AC%E5%8F%B7%E5%86%85%E5%AE%B9%E4%B8%8D%E5%86%99%E9%BB%98%E8%AE%A4%E6%98%AFsession%0Aselect%20%40%40%5Bglobal%7Csession%5D.%5B%E5%8F%98%E9%87%8F%E5%90%8D%5D%0A%0A%23%E8%B5%8B%E5%80%BC%0Aset%20%5Bglobal%7Csession%5D.%5B%E5%8F%98%E9%87%8F%E5%90%8D%5D%20%3D%20'%E5%80%BC'%0Aset%20%40%40global.%5B%E5%8F%98%E9%87%8F%E5%90%8D%5D%20%3D'%E5%80%BC'%0Aset%20%40%40session.%5B%E5%8F%98%E9%87%8F%E5%90%8D%5D%20%3D'%E5%80%BC'%0A%60%60%60%0A**%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F**%0A%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%98%AF%E6%95%B4%E4%B8%AA%E4%BC%9A%E8%AF%9D(%E8%BF%9E%E6%8E%A5)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AE%83%E7%90%86%E8%A7%A3%E6%88%90%E6%98%AF%E5%92%B1%E8%87%AA%E5%B7%B1%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F%EF%BC%8C%E8%80%8C%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89%E5%8F%AA%E8%83%BD%E5%B1%80%E9%83%A8%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0%E5%86%85%E3%80%82%0A*%20%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F%0A%60%60%60sql%0A%23%E5%A3%B0%E6%98%8E%E5%B9%B6%E8%B5%8B%E5%80%BC%0Aset%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3D%E5%80%BC%3B%0Aset%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%0Aselect%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%0A%0A%23%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%0A%23%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%E8%B7%9F%E5%AE%9A%E4%B9%89%E6%97%B6%E5%80%99%E4%B8%80%E6%A0%B7START%3D%3D%3D%3D%3D%3D%3D%3D%0Aset%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3D%E5%80%BC%3B%0Aset%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%0A%23%E6%B3%A8%E6%84%8F%E4%BD%BF%E7%94%A8%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E8%B5%8B%E5%80%BC%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%A0%E4%B8%8A%E5%86%92%E5%8F%B7%EF%BC%8C%E5%8D%95%E7%8B%AC%E7%9A%84%E7%AD%89%E5%8F%B7%E4%BC%9A%E8%A2%AB%E8%AE%A4%E4%B8%BA%E6%98%AF%E6%AF%94%E8%BE%83%E7%AC%A6%E5%8F%B7%0Aselect%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%20%0A%23%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%E8%B7%9F%E5%AE%9A%E4%B9%89%E6%97%B6%E5%80%99%E4%B8%80%E6%A0%B7END%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aselect%20%5B%E5%AD%97%E6%AE%B5%E5%90%8D%5D%20into%20%40%E5%8F%98%E9%87%8F%E5%90%8D%20from%20%E8%A1%A8%E5%90%8D%3B%0A%0A%23%E4%BD%BF%E7%94%A8%0Aselect%20%40%E5%8F%98%E9%87%8F%E5%90%8D%3B%0A%60%60%60%0A*%20%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%0A%E6%B3%A8%E6%84%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E4%B8%80%E5%AE%9A%E8%A6%81%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%88%96%E5%87%BD%E6%95%B0%E7%9A%84%E7%AC%AC%E4%B8%80%E8%A1%8C%EF%BC%81%0A%0A%60%60%60sql%0A%23%E5%A3%B0%E6%98%8E%0Adeclare%20%E5%8F%98%E9%87%8F%E5%90%8D%20%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%20default%20%5B%E9%BB%98%E8%AE%A4%E5%80%BC%5D%20%3B%0A%0A%23%E8%B5%8B%E5%80%BC%E6%88%96%E6%9B%B4%E6%96%B0%0Aset%20%E5%8F%98%E9%87%8F%E5%90%8D%3D%E5%80%BC%3B%0Aset%20%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%0Aselect%20%E5%8F%98%E9%87%8F%E5%90%8D%3A%3D%E5%80%BC%3B%0Aselect%20xx%20into%20%E5%8F%98%E9%87%8F%E5%90%8D%20from%20%E8%A1%A8%3B%0A%0A%23%E4%BD%BF%E7%94%A8%0Aselect%20%E5%8F%98%E9%87%8F%E5%90%8D%3B%0A%60%60%60%0A%0A%23%23%23%23%23%20%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%0A%60%60%60sql%0Acreate%20procedure%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(%E5%8F%82%E6%95%B0%E6%A8%A1%E5%BC%8F%20%E5%8F%82%E6%95%B0%E5%90%8D%20%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B)%0A%23%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%BD%93%E4%B8%AD%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E6%9D%A1sql%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BB%85%E4%BB%85%E4%B8%80%E6%9D%A1sql%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%88%99%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5begin%20end%0Abegin%0A%20%20%20%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%BD%93%20%20%23%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%80%E4%B8%AASQL%E9%83%BD%E9%9C%80%E8%A6%81%E7%94%A8%E5%88%86%E5%8F%B7%E7%BB%93%E5%B0%BE%0Aend%0A%60%60%60%0A%23%23%23%23%23%20%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%0A%60%60%60sql%0Acall%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(%E5%AE%9E%E5%8F%82%E5%88%97%E8%A1%A8)%0A%60%60%60%0A%E5%8F%82%E6%95%B0%E6%A8%A1%E5%BC%8F%E6%9C%89%E4%B8%89%E7%A7%8D%EF%BC%8C%E7%94%A8%E6%9D%A5%E6%A0%87%E8%AE%B0%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0%E7%9A%84%E5%8A%9F%E8%83%BD%0A*%20in%3A%E8%AF%A5%E5%8F%82%E6%95%B0%E5%8F%AA%E8%83%BD%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%85%A5%20%EF%BC%88%E8%AF%A5%E5%8F%82%E6%95%B0%E4%B8%8D%E8%83%BD%E5%81%9A%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%89%0A*%20out%EF%BC%9A%E8%AF%A5%E5%8F%82%E6%95%B0%E5%8F%AA%E8%83%BD%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%87%BA%EF%BC%88%E8%AF%A5%E5%8F%82%E6%95%B0%E5%8F%AA%E8%83%BD%E5%81%9A%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%89%0A*%20inout%EF%BC%9A%E6%97%A2%E8%83%BD%E5%81%9A%E8%BE%93%E5%85%A5%E5%8F%88%E8%83%BD%E5%81%9A%E8%BE%93%E5%87%BA%0A%60%60%60sql%0Acreate%20procedure%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(in%20userName%20varchar(20))%0Abegin%0A%20%20%20%23%E5%9C%A8%E6%96%B9%E6%B3%95%E4%BD%93%E4%B8%AD%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8userName%2C%E5%B0%B1%E8%B7%9F%E6%AD%A3%E5%B8%B8%E7%9A%84%E5%88%97%E5%90%8D%E4%B8%80%E6%A0%B7%E4%BD%BF%E7%94%A8%0Aend%0A%0Aset%20%40usetName%3D%22%E4%BC%A0%E5%85%A5%E7%9A%84%E5%80%BC%22%3B%0Acall%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(%40usetName)%3B%0A%60%60%60%0A%60%60%60sql%0Acreate%20procedure%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(out%20userName%20varchar(20))%0Abegin%0A%20%20%20%23%E5%9C%A8%E6%96%B9%E6%B3%95%E4%BD%93%E4%B8%AD%E7%BB%99userName%E8%B5%8B%E5%80%BC%EF%BC%8C%E8%B0%83%E7%94%A8%E7%9A%84%E6%97%B6%E5%80%99%E4%BC%A0%E8%BF%9B%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%8C%E8%B0%83%E7%94%A8%E5%AE%8C%E6%88%90%E5%90%8E%E8%BF%99%E4%B8%AA%E5%8F%98%E9%87%8F%E5%B0%B1%E4%BC%9A%E8%A2%AB%E8%B5%8B%E5%80%BC%0A%20%20%20select%20xx%20into%20userName%20from%20%E8%A1%A8%E5%90%8D%0Aend%0A%23%E7%94%A8%E6%9D%A5%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0%0Aset%20%40usetName%3D%22%22%3B%0Acall%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(%40usetName)%3B%0A%23%E8%BE%93%E5%87%BA%E6%8E%A5%E6%94%B6%E7%9A%84%E5%80%BC%0Aselect%20%40usetName%0A%60%60%60%0A%60%60%60sql%0Acreate%20procedure%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(inout%20userName%20varchar(20))%0Abegin%0A%20%20%20%23inout%20%E6%97%A2%E5%8F%AF%E4%BB%A5%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%EF%BC%8C%E5%8F%88%E5%8F%AF%E4%BB%A5%E8%BE%93%E5%87%BA%0A%20%20%20select%20xx%20into%20userName%20from%20%E8%A1%A8%E5%90%8D%0Aend%0A%0Aset%20%40usetName%3D%22%E4%BC%A0%E5%85%A5%E7%9A%84%E5%80%BC%22%3B%0Acall%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D(%40usetName)%3B%0A%23%E8%BE%93%E5%87%BA%E6%8E%A5%E5%8F%97%E7%9A%84%E5%80%BC%0Aselect%20%40usetName%0A%60%60%60%0A%23%23%23%23%23%20%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%0A%60%60%60sql%0Acreate%20function%20%E5%87%BD%E6%95%B0%E5%90%8D(%E5%8F%82%E6%95%B0%E5%90%8D%20%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%2C...)%20returns%20%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%0Abegin%0A%20%20%20%20%23%E6%B3%A8%E6%84%8F%EF%BC%8C%E5%87%BD%E6%95%B0%E4%BD%93%E4%B8%AD%E4%B8%80%E5%AE%9A%E8%A6%81%E6%9C%89return%E8%AF%AD%E5%8F%A5%0A%20%20%20%20%E5%87%BD%E6%95%B0%E4%BD%93%0A%20end%0A%60%60%60%0A%23%23%23%23%23%20%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%0A%60%60%60sql%0ASELECT%20%E5%87%BD%E6%95%B0%E5%90%8D%EF%BC%88%E5%AE%9E%E5%8F%82%E5%88%97%E8%A1%A8%EF%BC%89%0A%60%60%60%0A%23%23%23%23%23%20%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%88%96%E5%87%BD%E6%95%B0%0A%60%60%60sql%0Adrop%20procedure%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%90%8D%3B%0Adrop%20function%20%E5%87%BD%E6%95%B0%E5%90%8D%EF%BC%9B%0A%60%60%60%0A%E5%87%BD%E6%95%B0%E5%92%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B9%8D%E4%B8%80%E7%9C%8B%E5%B7%AE%E4%B8%8D%E5%A4%9A%EF%BC%8C%E4%BD%86%E5%87%BD%E6%95%B0%E8%A6%81%E6%B1%82%E6%9C%89%E4%B8%94%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E6%89%80%E4%BB%A5%E5%87%BD%E6%95%B0%E5%A4%9A%E6%95%B0%E7%94%A8%E6%9D%A5%E5%81%9A%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%A4%8D%E6%9D%82%E5%A4%84%E7%90%86%EF%BC%8C%E6%9C%80%E5%90%8E%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%80%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%A4%9A%E7%94%A8%E6%9D%A5%E6%89%B9%E9%87%8F%E6%8F%92%E5%85%A5%E6%88%96%E8%80%85%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%0A%0A%0A%7C%20%20%7C%20%E5%85%B3%E9%94%AE%E5%AD%97%7C%20%E8%B0%83%E7%94%A8%E8%AF%AD%E6%B3%95%20%7C%20%E8%BF%94%E5%9B%9E%E5%80%BC%7C%20%0A%7C%20---%20%7C%20---%20%7C%20---%20%7C%20---%20%7C%20%0A%7C%20%E5%87%BD%E6%95%B0%20%7CFUNCTION%20%20%7C%20SELECT%20%E5%87%BD%E6%95%B0()%20%7C%20%E5%8F%AA%E8%83%BD%E6%98%AF%E4%B8%80%E4%B8%AA%20%7C%20%0A%7C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%20%7CPROCEDURE%20%20%7C%20CALL%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B()%20%7C%E5%8F%AF%E4%BB%A5%E6%9C%890%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%20%20%7C%20%0A%0A%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%88%96%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84SQL%E9%9C%80%E8%A6%81%E6%90%AD%E9%85%8D%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E6%89%8D%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E5%90%84%E7%A7%8D%E5%A4%8D%E6%9D%82%E5%8A%9F%E8%83%BD%EF%BC%8C%E4%B8%8B%E9%9D%A2%E4%BB%8B%E7%BB%8DMySQL%E4%B8%AD%E7%9A%84%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%0A!%5B1fc44afa4feeab44cd54108324f7b84b.png%5D(en-resource%3A%2F%2Fdatabase%2F834%3A1)%0A%23%23%23%23%20%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%0A**IF%E5%87%BD%E6%95%B0%EF%BC%9A%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E5%8F%8C%E5%88%86%E6%94%AF**%0A%60%60%60sql%0A%23%E6%9D%A1%E4%BB%B6%E4%B8%BA%E7%9C%9F%E8%BE%93%E5%87%BA%E5%80%BC1%EF%BC%8C%E5%90%A6%E5%88%99%E8%BE%93%E5%87%BA%E5%80%BC2%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8EJava%E4%B8%AD%E7%9A%84%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%0Aif(%E6%9D%A1%E4%BB%B6%EF%BC%8C%E5%80%BC1%EF%BC%8C%E5%80%BC2)%0A%60%60%60%0A**CASE%E7%BB%93%E6%9E%84%EF%BC%9A%E5%8F%AF%E4%BB%A5%E4%BD%9C%E4%B8%BA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%94%BE%E5%9C%A8%E4%BB%BB%E4%BD%95%E4%BD%8D%E7%BD%AE%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%A4%9A%E5%88%86%E6%94%AF**%0A%60%60%60sql%0A%23%E4%BD%9C%E4%B8%BA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%BB%93%E5%90%88%E7%9D%80%E5%85%B6%E4%BB%96%E8%AF%AD%E5%8F%A5%E4%BD%BF%E7%94%A8%0Aselect%20*%0Afrom%0Acase%20%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%88%96%E5%AD%97%E6%AE%B5%0Awhen%20%E5%80%BC1%20then%20%E8%AF%AD%E5%8F%A51(%E5%9C%A8%E8%BF%99%E9%87%8C%E5%B0%B1%E6%98%AF%E8%A1%A8%E7%9A%84%E5%90%8D%E5%AD%97%E4%BA%86)%0Awhen%20%E5%80%BC2%20then%20%E8%AF%AD%E5%8F%A52%0A..%0A%0Aelse%20%E8%AF%AD%E5%8F%A5n%0Aend%20case%3B%0A%0A%23%E6%94%BE%E5%9C%A8begin%20end%20%E9%87%8C%E9%9D%A2%EF%BC%8C%E4%B8%80%E8%88%AC%E4%BD%9C%E4%B8%BA%E7%8B%AC%E7%AB%8B%E7%9A%84%E8%AF%AD%E5%8F%A5%E4%BD%BF%E7%94%A8%0Abegin%0Acase%20%0Awhen%20%E6%9D%A1%E4%BB%B61%20then%20%E8%AF%AD%E5%8F%A51%3B%0Awhen%20%E6%9D%A1%E4%BB%B62%20then%20%E8%AF%AD%E5%8F%A52%EF%BC%9B%0A..%0Aelse%20%E8%AF%AD%E5%8F%A5n%3B%0Aend%20%5Bcase%5D%3B%0A%0Aend%0A%60%60%60%0A**IF%E7%BB%93%E6%9E%84%EF%BC%9A%E5%AE%9E%E7%8E%B0%E5%A4%9A%E5%88%86%E6%94%AF**%0A%60%60%60sql%0A%23if%20%E7%BB%93%E6%9E%84%E5%8F%AA%E8%83%BD%E6%94%BE%E5%9C%A8begin%20end%20%E6%96%B9%E6%B3%95%E4%BD%93%E5%86%85%0Abegin%0Aif%20%E6%9D%A1%E4%BB%B61%20then%20%E8%AF%AD%E5%8F%A51%0Aelseif%20%E6%9D%A1%E4%BB%B62%20then%20%E8%AF%AD%E5%8F%A52%0A...%0Aelse%20%E8%AF%AD%E5%8F%A5n%3B%0Aend%20if%3B%0Aend%0A%60%60%60%0A%23%23%23%23%20%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%0A*%20%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5%E5%BF%85%E9%A1%BB%E6%94%BE%E5%9C%A8begin%20end%E4%B8%AD%0A*%20%E5%A6%82%E6%9E%9C%E5%BE%AA%E7%8E%AF%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BA%86%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%EF%BC%88leave%E6%88%96iterate%EF%BC%89%E5%88%99%E5%BF%85%E9%A1%BB%E6%B7%BB%E5%8A%A0%E5%90%8D%E7%A7%B0%EF%BC%8C%E7%94%A8%E6%9D%A5%E6%A0%87%E8%AE%B0%E4%BB%8E%E5%93%AA%E9%87%8C%E9%87%8D%E6%96%B0%E8%BF%9B%E8%A1%8C%E5%BE%AA%E7%8E%AF%E6%88%96%E8%B7%B3%E5%87%BA%E5%88%B0%E5%93%AA%E9%87%8C%0A*%20loop%E4%B8%80%E8%88%AC%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%AD%BB%E5%BE%AA%E7%8E%AF%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%B7%BB%E5%8A%A0%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E6%9D%A5%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF%E3%80%82while%E5%85%88%E5%88%A4%E6%96%AD%E5%90%8E%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%92%8CJava%E4%B8%AD%E7%9A%84while%E7%9B%B8%E4%BC%BC%E3%80%82repeat%E5%85%88%E6%89%A7%E8%A1%8C%E5%90%8E%E5%88%A4%E6%96%AD%EF%BC%8C%E6%97%A0%E6%9D%A1%E4%BB%B6%E8%87%B3%E5%B0%91%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%EF%BC%8C%E5%92%8CJava%E4%B8%AD%E7%9A%84do%20while%E7%9B%B8%E4%BC%BC%E3%80%82%0A%0A%23%23%23%23%23%20%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%0A*%20leave%EF%BC%9A%E7%B1%BB%E4%BC%BC%E4%BA%8Ebreak%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%B7%B3%E5%87%BA%E6%89%80%E5%9C%A8%E7%9A%84%E5%BE%AA%E7%8E%AF%0A*%20iterate%EF%BC%9A%E7%B1%BB%E4%BC%BC%E4%BA%8Econtinue%EF%BC%8C%E7%94%A8%E4%BA%8E%E7%BB%93%E6%9D%9F%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF%EF%BC%8C%E7%BB%A7%E7%BB%AD%E4%B8%8B%E4%B8%80%E6%AC%A1%0A%0A**%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E5%90%8E%E9%9D%A2%E6%8E%A5%E5%BE%AA%E7%8E%AF%E5%90%8D%E6%89%8D%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E5%AF%B9%E5%BA%94%E7%9A%84%E5%8A%9F%E8%83%BD**%0A%23%23%23%23%23%20%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%0A%60%60%60sql%0Abegin%0A%23while%0A%5B%E5%90%8D%E7%A7%B0%5D%3Awhile%20%0A%20%20%20%20%E5%BE%AA%E7%8E%AF%E6%9D%A1%E4%BB%B6%0Ado%0A%20%20%20%20%E5%BE%AA%E7%8E%AF%E4%BD%93%0A%20%20%20%20%5Bleave%7Citerate%5D%5B%E5%90%8D%E7%A7%B0%5D%0Aend%20while%20%5B%E5%90%8D%E7%A7%B0%5D%3B%0A%23loop%0A%5B%E5%90%8D%E7%A7%B0%5D%3Aloop%0A%20%20%20%20%E5%BE%AA%E7%8E%AF%E4%BD%93%0A%20%20%20%20%5Bleave%7Citerate%5D%5B%E5%90%8D%E7%A7%B0%5D%0Aend%20loop%20%5B%E5%90%8D%E7%A7%B0%5D%3B%0A%23repeat%0A%5B%E5%90%8D%E7%A7%B0%5D%3Arepeat%0A%20%20%20%20%E5%BE%AA%E7%8E%AF%E4%BD%93%0A%20%20%20%20%5Bleave%7Citerate%5D%5B%E5%90%8D%E7%A7%B0%5D%20%20%20%20%0Auntil%20%0A%20%20%20%20%E7%BB%93%E6%9D%9F%E6%9D%A1%E4%BB%B6%20%0Aend%20repeat%20%5B%E5%90%8D%E7%A7%B0%5D%3B%0A%60%60%60%0A%09</center></span>
</div></body></html> 