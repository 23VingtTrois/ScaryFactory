<html>
<head>
  <title>代理模式</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601568 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="391"/>
<h1>代理模式</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">代理模式</h2>
<div style="line-height: 160%; box-sizing: content-box;"><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">代理模式
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">什么是代理模式
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">为什么要使用代理模式
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">常见的代理模式
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">静态代理
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">JDK代理
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">Cglib代理
</a></li></ul></li></ul></li></ul></div><h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">什么是代理模式</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">为一个目标对象提供一个替身，以控制对这个对象的访问，即通过代理对象访问目标对象。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">为什么要使用代理模式</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">使用代理模式可以在目标对象(远程对象、创建开销大的对象和需要安全控制的对象，或者来自第三方库所提供的我们不可以修改的对象)实现的基础上，不修改目标对象本身的代码并增强额外的功能操作，即扩展目标对象的功能。代理模式主要由三种<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">静态代理</strong>、<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">动态代理 (JDK代理、接口代理)<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">和</strong>Cglib代理</strong>。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">常见的代理模式</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">静态代理</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">静态代理在使用时，需要定义接口或者父类，被代理对象(即目标对象)与代理对象一起实现相同的接口或者是继承相同父类</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//接口</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">interface</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Human</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">say</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>;
}
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//实现类</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Teacher</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Human</span> </span>{
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Override</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">say</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span> </span>{
         System.err.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;I am a Teacher&quot;</span>);
    }
}
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">TeacherProxy</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Human</span> </span>{
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//代理类聚合目标对象类，并采用有参构造器传入目标对象</span>
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> Teacher target;
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">TeacherProxy</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span> </span>{
    }
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">TeacherProxy</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(Teacher target)</span> </span>{
         <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.target = target;
    }
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Override</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//调用被代理类的方法，并在调用前后实现方法增强</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">say</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span> </span>{
         System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;代理开始&quot;</span>);
         target.say();
         System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;代理结束&quot;</span>);
    }
}
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">ProxyTest</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">static</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">main</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(String[] args)</span> </span>{
         <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//创建被代理对象和代理对象，通过代理对象来调用，当然也可以把被代理对象的创建直接内置在代理对象的构造方法里</span>
         Teacher teacher = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> Teacher();
         TeacherProxy teacherProxy = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> TeacherProxy(teacher);
         teacherProxy.say();
          }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">优点<br/>
在不修改目标对象的功能前提下，能通过代理对象对目标功能扩展</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">缺点<br/>
因为代理对象需要与目标对象实现一样的接口，所以会有很多代理类，一旦接口增加方法，目标对象与代理对象都要维护</li>
</ul>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">JDK代理</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">JDK代理的前提是被代理对象要实现接口，JDK代理依赖于<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Proxy</strong>类中的静态方法<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">newProxyInstance</strong>，通过这个方法返回一个代理对象，这个方法有三个参数</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ClassLoader loader<br/>
指定当前目标对象使用的类加载器, 获取加载器的方法固定</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Class&lt;?&gt;[]interfaces<br/>
目标对象实现的接口类型，使用泛型方法确认类型</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">InvocationHandler<br/>
这是一个函数式接口，里面的invoke是我们要实现的</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">interface</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">InvocationHandler</span> </span>{
     <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//proxy代理对象</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//method这是被代理对象需要调用的方法</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//args这是被代理对象调用方法的参数</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> Object <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">invoke</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(Object proxy, Method method, Object[] args)</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">throws</span> Throwable</span>;
}

</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">Human newProxyInstance =  
(Human)Proxy.newProxyInstance(teacher.getClass().getClassLoader(),
                    Teacher.class.getInterfaces(), 
                    (proxy, method, methodInput) -&gt; {
                                          System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;代理模式开始&quot;</span>);
                                          method.invoke(teacher, methodInput);
                                          System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;代理模式结束&quot;</span>);
                                          <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">null</span>;
                                     });
newProxyInstance.say();
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Cglib代理</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">静态代理和JDK代理模式都要求目标对象实现一个接口，但是有时候目标对象只是一个单独的对象，并没有实现任何的接口，这个时候可使用目标对象子类来实现代理，这就是Cglib代理。Cglib代理也叫作子类代理，它是在内存中构建一个子类对象从而实现对目标对象功能扩展。Cglib是一个强大的高性能的代码生成包，它可以在运行期扩展Java类与实现Java接口。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">ProxyTest</span> </span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">static</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">main</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(String[] args)</span> </span>{
         Teacher teacher = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> Teacher();
         <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//创建一个工具类</span>
         Enhancer enhancer = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> Enhancer();
         <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//设置父类</span>
         enhancer.setSuperclass(teacher.getClass());
         <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//设置回调函数</span>
         enhancer.setCallback(<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> MethodInterceptor() {
             <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// Object proxy：cglib生成的代理对象</span>
             <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// Method method：被代理对象方法</span>
             <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// Object[] methodInput：方法入参</span>
             <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// MethodProxy methodProxy：代理的方法</span>
             <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Override</span>
             <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> Object <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">intercept</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(Object proxy,Method method, Object[] methodInput, MethodProxy methodProxy)</span><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">throws</span> Throwable </span>{
                 System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Cglib代理模式 ~~开始&quot;</span>);
                 method.invoke(teacher,methodInput);
                 System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Cglib代理模式 ~~提交&quot;</span>);
                 <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// TODO Auto-generated method stub</span>
                 <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">null</span>;
             }
         });
         <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//创建子类对象，即代理对象</span>
         Teacher teacherProxy = (Teacher)enhancer.create();
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//调用对应的方法</span>
        teacherProxy.say();
    } 
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">注意：在内存中动态构建子类，代理的类不能为final，否则报错。目标对象的方法如果为final/static，那么就不会被拦截，即不会执行目标对象额外的业务方法。</strong></p>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%23%20%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%0A%5Btoc%5D%0A%23%23%23%23%20%E4%BB%80%E4%B9%88%E6%98%AF%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%0A%E4%B8%BA%E4%B8%80%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E6%9B%BF%E8%BA%AB%EF%BC%8C%E4%BB%A5%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%8D%B3%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E8%AE%BF%E9%97%AE%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E3%80%82%0A%23%23%23%23%20%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%0A%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%8F%AF%E4%BB%A5%E5%9C%A8%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1(%E8%BF%9C%E7%A8%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E5%88%9B%E5%BB%BA%E5%BC%80%E9%94%80%E5%A4%A7%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%9C%80%E8%A6%81%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%96%E8%80%85%E6%9D%A5%E8%87%AA%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%89%80%E6%8F%90%E4%BE%9B%E7%9A%84%E6%88%91%E4%BB%AC%E4%B8%8D%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9A%84%E5%AF%B9%E8%B1%A1)%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E4%B8%8D%E4%BF%AE%E6%94%B9%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E6%9C%AC%E8%BA%AB%E7%9A%84%E4%BB%A3%E7%A0%81%E5%B9%B6%E5%A2%9E%E5%BC%BA%E9%A2%9D%E5%A4%96%E7%9A%84%E5%8A%9F%E8%83%BD%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8D%B3%E6%89%A9%E5%B1%95%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B8%BB%E8%A6%81%E7%94%B1%E4%B8%89%E7%A7%8D**%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86**%E3%80%81**%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%20(JDK%E4%BB%A3%E7%90%86%E3%80%81%E6%8E%A5%E5%8F%A3%E4%BB%A3%E7%90%86)**%E5%92%8C**Cglib%E4%BB%A3%E7%90%86**%E3%80%82%0A%0A%23%23%23%23%20%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%0A%23%23%23%23%23%20%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%0A%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%9C%A8%E4%BD%BF%E7%94%A8%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E7%88%B6%E7%B1%BB%EF%BC%8C%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1(%E5%8D%B3%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1)%E4%B8%8E%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E4%B8%80%E8%B5%B7%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%90%8C%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E6%98%AF%E7%BB%A7%E6%89%BF%E7%9B%B8%E5%90%8C%E7%88%B6%E7%B1%BB%0A%60%60%60java%0A%2F%2F%E6%8E%A5%E5%8F%A3%0Apublic%20interface%20Human%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0void%20say()%3B%0A%7D%0A%2F%2F%E5%AE%9E%E7%8E%B0%E7%B1%BB%0Apublic%20class%20Teacher%20implements%20Human%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%40Override%0A%C2%A0%C2%A0%C2%A0%C2%A0public%20void%20say()%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0System.err.println(%22I%20am%20a%20Teacher%22)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%7D%0Apublic%20class%20TeacherProxy%20implements%20Human%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E4%BB%A3%E7%90%86%E7%B1%BB%E8%81%9A%E5%90%88%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%B1%BB%EF%BC%8C%E5%B9%B6%E9%87%87%E7%94%A8%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8%E4%BC%A0%E5%85%A5%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%0A%20%20%20%20private%20Teacher%20target%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0public%20TeacherProxy()%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%C2%A0%C2%A0%C2%A0%C2%A0public%20TeacherProxy(Teacher%20target)%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0this.target%20%3D%20target%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%C2%A0%C2%A0%C2%A0%C2%A0%40Override%0A%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E8%B0%83%E7%94%A8%E8%A2%AB%E4%BB%A3%E7%90%86%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%B9%B6%E5%9C%A8%E8%B0%83%E7%94%A8%E5%89%8D%E5%90%8E%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E5%A2%9E%E5%BC%BA%0A%20%20%20%20public%20void%20say()%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0System.out.println(%22%E4%BB%A3%E7%90%86%E5%BC%80%E5%A7%8B%22)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0target.say()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0System.out.println(%22%E4%BB%A3%E7%90%86%E7%BB%93%E6%9D%9F%22)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%7D%0Apublic%20class%20ProxyTest%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0public%20static%20void%20main(String%5B%5D%20args)%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E5%88%9B%E5%BB%BA%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E5%92%8C%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%9D%A5%E8%B0%83%E7%94%A8%EF%BC%8C%E5%BD%93%E7%84%B6%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%8A%8A%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E7%9B%B4%E6%8E%A5%E5%86%85%E7%BD%AE%E5%9C%A8%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E9%87%8C%0A%20%20%20%20%20%20%20%20%20Teacher%20teacher%20%3D%20new%20Teacher()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0TeacherProxy%20teacherProxy%20%3D%20new%20TeacherProxy(teacher)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0teacherProxy.say()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%7D%0A%60%60%60%0A%0A*%20%E4%BC%98%E7%82%B9%0A%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8A%9F%E8%83%BD%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E8%83%BD%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E5%AF%B9%E7%9B%AE%E6%A0%87%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%0A*%20%E7%BC%BA%E7%82%B9%0A%E5%9B%A0%E4%B8%BA%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E9%9C%80%E8%A6%81%E4%B8%8E%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E4%B8%80%E6%A0%B7%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BC%9A%E6%9C%89%E5%BE%88%E5%A4%9A%E4%BB%A3%E7%90%86%E7%B1%BB%EF%BC%8C%E4%B8%80%E6%97%A6%E6%8E%A5%E5%8F%A3%E5%A2%9E%E5%8A%A0%E6%96%B9%E6%B3%95%EF%BC%8C%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E4%B8%8E%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E9%83%BD%E8%A6%81%E7%BB%B4%E6%8A%A4%0A%23%23%23%23%23%20JDK%E4%BB%A3%E7%90%86%0AJDK%E4%BB%A3%E7%90%86%E7%9A%84%E5%89%8D%E6%8F%90%E6%98%AF%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%EF%BC%8CJDK%E4%BB%A3%E7%90%86%E4%BE%9D%E8%B5%96%E4%BA%8E**Proxy**%E7%B1%BB%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95**newProxyInstance**%EF%BC%8C%E9%80%9A%E8%BF%87%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%9C%89%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0%0A*%20ClassLoader%20loader%0A%E6%8C%87%E5%AE%9A%E5%BD%93%E5%89%8D%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8%E7%9A%84%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%2C%20%E8%8E%B7%E5%8F%96%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E6%96%B9%E6%B3%95%E5%9B%BA%E5%AE%9A%0A*%20Class%3C%3F%3E%5B%5Dinterfaces%0A%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%B1%BB%E5%9E%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95%E7%A1%AE%E8%AE%A4%E7%B1%BB%E5%9E%8B%0A*%20InvocationHandler%0A%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3%EF%BC%8C%E9%87%8C%E9%9D%A2%E7%9A%84invoke%E6%98%AF%E6%88%91%E4%BB%AC%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%0A%0A%60%60%60java%0Apublic%20interface%20InvocationHandler%20%7B%0A%20%20%20%20%20%2F%2Fproxy%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%0A%20%20%20%20%2F%2Fmethod%E8%BF%99%E6%98%AF%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%0A%20%20%20%20%2F%2Fargs%E8%BF%99%E6%98%AF%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%0A%20%20%20%20public%20Object%20invoke(Object%20proxy%2C%20Method%20method%2C%20Object%5B%5D%20args)%0A%20%20%20%20%20%20%20%20throws%20Throwable%3B%0A%7D%0A%0A%60%60%60%0A%60%60%60java%0AHuman%20newProxyInstance%20%3D%C2%A0%20%0A(Human)Proxy.newProxyInstance(teacher.getClass().getClassLoader()%2C%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%20%20%20%20Teacher.class.getInterfaces()%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(proxy%2C%20method%2C%20methodInput)%20-%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%A7%8B%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20method.invoke(teacher%2C%20methodInput)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9D%9F%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0AnewProxyInstance.say()%3B%0A%60%60%60%0A%23%23%23%23%23%20Cglib%E4%BB%A3%E7%90%86%0A%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8CJDK%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E9%83%BD%E8%A6%81%E6%B1%82%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%BD%86%E6%98%AF%E6%9C%89%E6%97%B6%E5%80%99%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%8F%AA%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8D%95%E7%8B%AC%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%E4%BB%BB%E4%BD%95%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E5%8F%AF%E4%BD%BF%E7%94%A8%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%AD%90%E7%B1%BB%E6%9D%A5%E5%AE%9E%E7%8E%B0%E4%BB%A3%E7%90%86%EF%BC%8C%E8%BF%99%E5%B0%B1%E6%98%AFCglib%E4%BB%A3%E7%90%86%E3%80%82Cglib%E4%BB%A3%E7%90%86%E4%B9%9F%E5%8F%AB%E4%BD%9C%E5%AD%90%E7%B1%BB%E4%BB%A3%E7%90%86%EF%BC%8C%E5%AE%83%E6%98%AF%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AD%90%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%BB%8E%E8%80%8C%E5%AE%9E%E7%8E%B0%E5%AF%B9%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%E3%80%82Cglib%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%BA%E5%A4%A7%E7%9A%84%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%8C%85%EF%BC%8C%E5%AE%83%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%89%A9%E5%B1%95Java%E7%B1%BB%E4%B8%8E%E5%AE%9E%E7%8E%B0Java%E6%8E%A5%E5%8F%A3%E3%80%82%0A%20%60%60%60java%0Apublic%20class%20ProxyTest%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0public%20static%20void%20main(String%5B%5D%20args)%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0Teacher%20teacher%20%3D%20new%20Teacher()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B7%A5%E5%85%B7%E7%B1%BB%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0Enhancer%20enhancer%20%3D%20new%20Enhancer()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E8%AE%BE%E7%BD%AE%E7%88%B6%E7%B1%BB%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0enhancer.setSuperclass(teacher.getClass())%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E8%AE%BE%E7%BD%AE%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0enhancer.setCallback(new%20MethodInterceptor()%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%20Object%20proxy%EF%BC%9Acglib%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%20Method%20method%EF%BC%9A%E8%A2%AB%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%20Object%5B%5D%20methodInput%EF%BC%9A%E6%96%B9%E6%B3%95%E5%85%A5%E5%8F%82%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%20MethodProxy%20methodProxy%EF%BC%9A%E4%BB%A3%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%40Override%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0public%20Object%20intercept(Object%20proxy%2CMethod%20method%2C%20Object%5B%5D%20methodInput%2C%20MethodProxy%20methodProxy)throws%20Throwable%20%7B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0System.out.println(%22Cglib%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%20~~%E5%BC%80%E5%A7%8B%22)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0method.invoke(teacher%2CmethodInput)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0System.out.println(%22Cglib%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%20~~%E6%8F%90%E4%BA%A4%22)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%20TODO%20Auto-generated%20method%20stub%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0return%20null%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%7D%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%7D)%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%2F%2F%E5%88%9B%E5%BB%BA%E5%AD%90%E7%B1%BB%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8D%B3%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%0A%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0Teacher%20teacherProxy%20%3D%20(Teacher)enhancer.create()%3B%0A%20%20%20%20%20%20%20%20%20%2F%2F%E8%B0%83%E7%94%A8%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%B9%E6%B3%95%0A%20%20%20%20%20%20%20%20%20teacherProxy.say()%3B%0A%C2%A0%C2%A0%C2%A0%C2%A0%7D%C2%A0%0A%7D%0A%60%60%60%0A**%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%8A%A8%E6%80%81%E6%9E%84%E5%BB%BA%E5%AD%90%E7%B1%BB%EF%BC%8C%E4%BB%A3%E7%90%86%E7%9A%84%E7%B1%BB%E4%B8%8D%E8%83%BD%E4%B8%BAfinal%EF%BC%8C%E5%90%A6%E5%88%99%E6%8A%A5%E9%94%99%E3%80%82%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%E5%A6%82%E6%9E%9C%E4%B8%BAfinal%2Fstatic%EF%BC%8C%E9%82%A3%E4%B9%88%E5%B0%B1%E4%B8%8D%E4%BC%9A%E8%A2%AB%E6%8B%A6%E6%88%AA%EF%BC%8C%E5%8D%B3%E4%B8%8D%E4%BC%9A%E6%89%A7%E8%A1%8C%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E9%A2%9D%E5%A4%96%E7%9A%84%E4%B8%9A%E5%8A%A1%E6%96%B9%E6%B3%95%E3%80%82**%0A</center></span>
</div></body></html> 