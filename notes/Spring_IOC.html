<html>
<head>
  <title>Spring_IOC</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601568 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="390"/>
<h1>Spring_IOC</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><div style="line-height: 160%; box-sizing: content-box;"><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">依赖注入
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">装配Bean
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">自动装配
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">显式装配
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">通过Java代码装配
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">通过XML装配Bean
</a></li></ul></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">混合配置
</a></li></ul></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">环境与Profile
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">条件化的Bean
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">处理自动装配的歧义性
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">bean的作用域
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">使用请求和会话作用域
</a></li></ul></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">运行时值注入
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">注入外部的值
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">Environment
</a></li></ul></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">属性占位符
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">Spring表达式语言
</a><ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;"><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">SpEL的常见特性
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">SpEL运算符
</a></li><li style="line-height: 160%; box-sizing: content-box; position: relative;"><a style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">计算集合
</a></li></ul></li></ul></li></ul></li></ul></div><h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">依赖注入</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring的核心之一控制反转，即不需要我们来手动创建对象，而是把创建对象的职责交给Spring来去做，我们通过IOC容器来直接获取这个对象。完成这一操作，我们需要做的仅仅是告诉Spring，它需要帮我们创建哪些对象。而有的对象本身内部聚合/组合了其他对象（成员变量），我们也不需要去为这些成员变量赋值，Spring容器负责创建应用程序中的bean并通过DI（依赖注入）来协调这些对象之间的关系，我们需要告诉Spring要创建那些bean并且如何将它们装配到一起，Spring提供了三种主要的装配机制</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在XML中进行显式的配置</strong></li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在Java中进行显示的配置（JavaConfig）</strong></li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">隐式的bean发现机制和自动装配</strong></li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">几乎所有的课件都是基于XML的方式来讲述spring的知识，但是Spring4.0作者推荐使用自动化配置搭配JavaConfig，JavaConfig我真的爱了爱了，这很Java，包括后面的SpringBoot也可以看出来，XML作用会越来越弱化。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">装配Bean</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">自动装配</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring从两个角度来实现自动化装配</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">组件扫描<br/>
Spring会自动发现上下文中创建的bean，即上面说的，我们要告诉Spring，哪些对象是要交给Spring来管理的</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">自动装配<br/>
Spring会自动满足bean之间的依赖，从IOC容器中取出对象，自动赋值给需要这个对象的类</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Component</strong><br/>
这个注解放在类名上，这个注解表明这个类会作为组件类，Spring会为标注了这个注解的类创建bean并放在IOC容器中。这就是控制反转，创建对象的工作由Spring帮我们完成。bean的ID默认是类名首字母小写，我们可以主动设置Value值来给bean指定ID<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Named</strong><br/>
这个注解和@Component的功能用法基本相同，是由Java Dependency Injection提供的</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;beanID&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Human</span></span>{}
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Named</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;beanID&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Teacher</span></span>{}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@ComponentScan</strong><br/>
这个注解用于开启组件扫描，默认会扫描与配置类相同的包以及这个包下面的子包。可以通过指定value属性的值来扫描指定的包</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//通过设置value值来指定要扫描的包及其子包</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;soundsystem&quot;</span>)
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//也可以通过basePackages属性来设置</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>(basePackages=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;soundsystem&quot;</span>)
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//basePackages可以设置扫描多个包，这时候传入一个数组</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>(basePackages={<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;soundsystem&quot;</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;video&quot;</span>})
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//上述的方式都是将包名以String的方式传入，这种方式是类型不安全的，重构代码会导致包名改变</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//可以将其指定为包中所含的类或接口，指定的类所在的包会作为扫描的基础包</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//建议在包中创建一个用来进行扫描的空接口，因为重构可能会导致应用代码从想要扫描的包中移除掉</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>(basePackageClasses={<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;CDplayer.class&quot;</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;DVDPlayer.class&quot;</span>})
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!--开启自动扫描--&gt;</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">context:component-scan</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">base-package</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;包名&quot;</span>&gt;</span>
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">自动装配就是让Spring自动满足bean依赖的一种方法，在满足依赖的过程中，会在Spring应用上下文中寻找匹配某个bean的其他bean，我们使用@AutoWired来声明要进行自动装配<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@AutoWired</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">CDPlayer</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">MediaPlayer</span></span>{
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//直接放在成员变量上</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@AutoWired</span>
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> CompactDisc cd;
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//构造器注入</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@AutoWired</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">CDPlayer</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(CopmactDisc cd)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.cd=cd;   
    }
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//属性注入</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//将安全检查设为false，允许找不到装配的bean，默认为true，没有匹配的bean会抛出异常</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@AutoWired</span>(required=<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">false</span>)
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">setCompactDisc</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(CopmactDisc cd)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.cd=cd;
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Inject</strong><br/>
这个注解来源于Java依赖注入规范，和@AutoWired基本相同</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">不管构造器，Setter方法还是其他方法，Spring都会尝试满足方法参数上声明的依赖。假如<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">有且仅有</strong>一个bean匹配依赖需求的话，那么这个bean将会被装配进来，但如果没有匹配的bean，那么会抛出异常，为了避免异常的出现，可以把@AtuoWired的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">required</strong>的属性设置为false。但如果有多个匹配的bean呢？在后面我们会单独讲述自动装配的歧义性</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">显式装配</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">尽管组件扫描和自动装配来实现Spring的自动化配置是推荐方式，但有的时候，我们没办法在一个类上面通过添加@Component和@AutoWired注解(比如第三方组件)来将这些组件装配到工程中，这种情况我们就需要显示装配</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">通过Java代码装配</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">JavaConfig是我很喜欢的装配方案，相对于自动装配，显示装配显得更有据可循和信任，类型安全且易于重构，而跟XML相比，JavaConfig显得更加易于理解和可读，并且JavaConfig也是Java代码，这种一致性我是非常钟意的。JavaConfig是配置代码，不包因那个该包含任何的业务逻辑，我们通常会将JavaConfig放到单独的包中，与其他应用的逻辑分离开。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//这个注解用来表明这个类是一个配置类</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Configuration</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">CDPlayerConfig</span></span>{
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//@Bean注解会告诉Spring这个方法将返回一个对象，该对象要注册为Spring应用上下文的bean。</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//方法体重包含了最终产生bean的实例逻辑,只要最后可以返回一个bean就可以，所以我们可以在这个方法里面干很多事情</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//默认情况bean的ID与带有@Bean的注解的方法名是一样的，可以通过name属性来指定ID</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>(name=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;sgtPaperBean&quot;</span>)
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> CompactDisc <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">sgtPeppers</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> SgtPeppers();
    }
    
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/**
     *方法请求一个CompactDisc作为参数，当Spring调用这个方法来创建对象的时候，它会自动装配一个ComoactDisc对象到配置中去
     *无论这个对象是谁创建的，只要它存在在ioc容器中就可以
    */</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> CDPlayer <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">cdPlayer</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(CompactDisc compactDisc)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> CDPlayer(compactDisc);
    ｝
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/*
    我们还可以这样进行配置，因为sgtPeppers方法被@Bean标记了，所以所有访问这个方法都会被拦截，并返回一个IOC容器中已有的对象，并不会调用一次就生成一个对象
    */</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> CDPlayer <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">cdPlayer</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> CDPlayer(sgtPeppers());
    ｝
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">@Configuration标记的类必须符合下面的要求</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">配置类必须以类的形式提供（不能是工厂方法返回的实例），允许通过生成子类在运行时增强（CGLIB动态代理）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">配置类不能是final类（没法动态代理）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">配置注解通常为了通过@Bean注解生成Spring容器管理的类</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">配置类必须是非私有的（即不能在方法中声明，不能是 private）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">任何嵌套配置类都必须声明为static</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">@Bean 方法不可能会反过来创建进一步的配置类，也就是返回的bean如果带有@Configuration，也不会被特殊处理，只会作为普通的 bean</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">关于JavaConfig日后再来填坑</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">通过XML装配Bean</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">麻烦的很，尤其是依赖注入这块。DI还是推荐使用注解吧！</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 配置一个 bean --&gt;</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- id就是IOC容器中bean的ID，class为bean的全路径名(反射创建对象) --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;helloWorld&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.HelloWorld&quot;</span>&gt;</span>
		<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 为属性赋值 --&gt;</span>
		<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 通过属性注入: 通过 setter 方法注入属性值 --&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;user&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Tom&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
	
	<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 通过构造器注入属性值 --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;helloWorld1&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.HelloWorld&quot;</span>&gt;</span>
		<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 要求:在Bean中必须有对应的构造器.  --&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">constructor-arg</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Mike&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">constructor-arg</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>		
	
	<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 通过 ref 属性值指定当前属性指向哪一个bean --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;daoRef&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.Dao&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;service&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.Service&quot;</span>&gt;</span>		
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;dao&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">ref</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;daoRef&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
	
	 <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 声明使用内部 bean --&gt;</span>
	 <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 内部 bean, 类似于匿名内部类对象。不能被外部的bean来引用,，所以没有必要设置id属性 --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;service2&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.Service&quot;</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;dao&quot;</span>&gt;</span>			
			<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.Dao&quot;</span>&gt;</span>
				<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;dataSource&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;c3p0&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
			<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>	
	
	<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 装配集合属性 --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;user&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.User&quot;</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;userName&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Jack&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cars&quot;</span>&gt;</span>
			<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 使用 list 元素来装配集合属性 --&gt;</span>
			<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span>
				<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">ref</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">bean</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;car&quot;</span>/&gt;</span>
				<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">ref</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">bean</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;car1&quot;</span>/&gt;</span>
			<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
	
	<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 声明集合类型的 bean --&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">util:list</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cars&quot;</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">ref</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">bean</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;car&quot;</span>/&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">ref</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">bean</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;car1&quot;</span>/&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">util:list</span>&gt;</span>
	<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 引用外部声明的 list --&gt;</span>	
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;user2&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.HelllowSpring.helloworld.User&quot;</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;userName&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Rose&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
		<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cars&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">ref</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cars&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
	<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">混合配置</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring支持混合配置，即自动装配、XML和javaConfig可以混合在一起使用。在自动装配的时候，它并不在意要装配的bean来自哪里，自动装配会考虑到Spring容器中的所用bean，不管它是在JavaConfig或XML中声明的还是通过组件扫描获取到的</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">在JavaConfig中引入其他配置<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@import</strong> 引入配置类<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@importResource</strong>引入XML文件</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">在XML中引入其他配置<br/>
JavaConfig本质上也是一个Java类，所以我们直接在XML文件中以&lt;bean&gt;标签引入这个类就可以了</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">环境与Profile</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Profile</strong><br/>
指定某个bean属于哪个profile，只有指定的profile处于激活状态，那么这个bean才会被创建。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">这个注解可以添加在<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">配置类</strong>上。如果对应的配置文件没有被激活，那么这个配置类中所有带有@Bean注解的方法都会被忽略掉。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">如果注解添加到<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">方法</strong>上，那么这个方法只有规定的profile被激活了才会被创建。同类下其它没有被@Profile标记的bean方法始终都会创建，与激活哪个profile没有关系</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Configuration</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">CDPlayerConfig</span></span>{
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//只有名为dev的配置文件(配置类)处于激活状态这个bean才会被Spring创建</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Profile</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;dev&quot;</span>)
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>(name=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;sgtPaperBean&quot;</span>)
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> CompactDisc <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">sgtPeppers</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> SgtPeppers();
    }
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//因为@Profile注解只是加在了方法上，所以这个类无论如何都会被Spring创建</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> CDPlayer <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">cdPlayer</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(CompactDisc compactDisc)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> CDPlayer(compactDisc);
    ｝
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在XML中我们通过beans标签的profile属性来声明这个beans属于哪个profile</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">beans</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">profile</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;QA&quot;</span>&gt;</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">beans</span>&gt;</span>
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring在确定哪个profile处于激活状态时，需要依赖两个独立属性：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">srping.profiles.active</strong></li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">spring.profiles.default</strong></li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如果设置了active属性的话，那么它的值就用来确定哪个proflie是激活的。如果没有设置的话，Spring会查找default的值，如果都没有设置的话，那就没有激活proflie，就只会创建没有定义在profile中的bean。可以同时激活多个profile，以逗号分隔。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">有多种方式来设置这两个属性</strong></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">作为DispatcherServlet的初始化参数</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">作为Web应用的上下文参数</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">作为JNDI条目</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">作为环境变量</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">作为JVM的系统属性</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">在集成测试类上，使用@ActiveProfiles注解</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">条件化的Bean</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Conditional</strong><br/>
这个注解用在带有@Bean注解的方法上，如果给定条件为TRUE，就会创建这个bean，否则的话这个bean会被忽略，不会被创建</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Conditional</span>(MagicExistsCondition.class)
<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> MagicBean <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">magicBean</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> MagicBean();
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">设置给@Conditional的类可以是任意实现了Condition接口的类</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">interface</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Condition</span></span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">boolean</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">matches</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(ConditionContext ctxt,AnnotatedTypeMetadata metadata)</span></span>;
}
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">MagicExistsCondition</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Condition</span></span>{
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">boolean</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">matches</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(ConditionContext context,AnnotatedTypeMetadata metadata)</span></span>{
        Environment env = context.getEnvironment();
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> env.containsProperty(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;magic&quot;</span>);
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在上面的程序中，方法通过给定的ConditionContext对象得到了Environment对象，并用这个对象来检查环境中是否存在名为magic的环境属性。通过<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">ConditionContext</strong>我们可以做到如下几点</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">借助<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getRegistry()</strong> 返回的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">BeanDefinitionRegistry</strong> 检查bean的定义</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">借助<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getBeanFactory()</strong> 返回的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">ConfigurableListableBeanFactory</strong> 检查bean是否存在，或者来探查bean的属性</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">借助<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getEnvironment()</strong> 返回的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Enironment</strong> 检查环境变量是否存在以及它们的值是什么</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">读取并探查<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getResourceLoader()</strong> 返回的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">ResourceLoader</strong> 所加载的资源</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">借助<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getClassLoader()</strong> 返回的<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">ClassLoader</strong> 加载并检查类是否存在</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">处理自动装配的歧义性</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">解决方案一 <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@primary</strong><br/>
我们可以把多个符合匹配条件的bean中通过设置首选bean</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Primary</span>
<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> Dessert <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">iceCream</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> IceCream();
}
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;iceCream&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.desserteater.IceCream&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">primary</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;true&quot;</span> /&gt;</span>
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">解决方案二 <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Qualifier</strong><br/>
但如果有多个bean被设置了首选bean，我们可以使用限定符的方式</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">@Qualifier</strong>注解是使用限定符的主要方式</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Autowired</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//这里只会注入同样标注了@Qualifier(&quot;iceCream&quot;)的bean</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Qualifier</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;iceCream&quot;</span>)的<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">bean
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">setDessert</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(Dessert dessert)</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.dessert = dessert;
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">这是使用限定符最简单的例子，@Qualifier的参数就是想要注入的bean的ID，所有使用@Component注解声明的类都会创建为bean，并且bean的ID为首字母小写的类名，实际上@Qualifier(&quot;iceCream&quot;)所指向的bean要有一个String 的“iceCream”作为限定符，所有的bean都有一个默认的限定符，这个限定符与bean的ID相同，但这种情况限定符与bean的ID紧紧耦合在一起，如果我们修改了bean的名称就会导致限定符的失败，所以我们可以限定符设置自定义值</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//当使用自定义值的时候，建议为bean选择特征性活描述性的词语，而不是随意的名字</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Qualifier</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cold&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">IceCream</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Dessert</span></span>{}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">有一种情况，当不同的类都采用了同样的描述性的注解，这时候也会有歧义性，我们可能会想到使用多个@Qualifier注解来将bean限定到一个，但遗憾的是，@Qualifier注解并没有在定义时添加@Repeatable注解，所以Java不允许在同一个位置上重复出现多个@Qualifier注解<br/>
，但是我们可以创建自定义的限定符注解，这个注解本身使用@Qualifier注解来标注</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Target</span>({ElementType.CONSTRUCTOR,ElementType.FIELD,ElementType.METHOD,ElementType.ANNOTATION_TYPE.TYPE})
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Retention</span>(RetentionPolicy.RUNTIME)
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Qualifier</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@interface</span> Cold {}
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Target</span>({ElementType.CONSTRUCTOR,ElementType.FIELD,ElementType.METHOD,ElementType.ANNOTATION_TYPE.TYPE})
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Retention</span>(RetentionPolicy.RUNTIME)
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Qualifier</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@interface</span> Creamy {}

<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//这样，我们在声明和注入bean的地方就可以同时加上这两个注解，从而将可选范围缩小到只有一个bean满足</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Cold</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Creamy</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">IceCream</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Dessert</span></span>{}

<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Autowired</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Cold</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Creamy</span>
<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">setDessert</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.dessert = dessert;
}
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">bean的作用域</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">单例(Singleton)</strong><br/>
在整个应用中，只创建bean的一个实例</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">原型(Prototype)</strong><br/>
每次注入或者通过Spring应用上下文获取的时候，都会创建一个新的bean实例</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">会话(Session)</strong><br/>
在Web应用中，为每个会话创建一个bean实例</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">请求(Request)</strong><br/>
在Web应用中，为每一个请求创建一个bean实例</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">单例是默认作用域，使用@Scope注解来声明bean的作用域，这个注解可以和@Component和@Bean搭配使用。也可以在xml中，使用bean的scope属性来设置</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Scope</span>(ConfigurableBeanFactory.SCOPE_PROTOTYPE)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Notepad</span></span>{}

<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Scope</span>(ConfigurableBeanFactory.SCOPE_PROTOTYPE)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Notepad</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> Notepad();
}
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;notepad&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.myapp.Notepad&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">scope</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;prototype&quot;</span> /&gt;</span>
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">使用请求和会话作用域</strong></h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">一个生活场景，购物车bean，这个bean应该是作为会话作用域，在整个会话和请求范围内共享数据。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Scope</span>(value=WebApolicationContext.SCOPE_SESSION,
            proxyMode=ScopedProxyMode.INTERFACES
)
<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> ShoppingCart <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">cart</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
}
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Component</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">StoreService</span></span>{
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@AutoWired</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">setShoppingCart</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(ShoppingCart shoppingCart)</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.shoppingCart=shoppingCary;
    }   
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">我们创建了两个对象，一个是会话作用域的ShoppingCart，一个是单例的StoreService，StoreService中聚合了ShoppingCart对象。但这样会有一个问题，单例对象会在加载时创建，而这时候成员变量的对象还没有生成，只有创建了会话之后才会出现这个实例，并且我们希望StoreService对象里面的这个ShoppingCart是针对当前会话的，不同会话中的这个对象是不一样的。为了解决这个问题，我们在ShoppingCart中设置了proxyMode属性，这个属性会为ShoppingCart对象生成一个代理对象，当调用的时候，代理对象会将请求转发给会话作用域里真正的ShoppingCart</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">proxy的属性有两种</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ScopedProxyMode.INTERFACES<br/>
这个是基于JDK实现的</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ScopedProxyMode.TARGET_CLASS<br/>
这个是基于CGLIB实现的</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">运行时值注入</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring提供了两种运行时求值的方式</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">属性占位符</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Spring表达式语言</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">注入外部的值</h4>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Configuration</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@PropertySource</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;classpath:/com/soundsystem/app.properties&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">ExpressiveConfig</span></span>{
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Autowired</span>
    Environment env
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> BlankDisc <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">disc</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> BlankDisc(env.getProperty(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;disc.title&quot;</span>),env.getProperty(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;disc.artist&quot;</span>));
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">上面的例子中，@PropertySource引用了类路径中一个名为app.properties的配置文件，这个文件会被加载到Environment中，通过Environment的getProperty方法，我们可以获取到配置文件中对应的值</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Environment</strong></h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Environment对象的getProperty方法有四个重载</strong>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">String getProperty(String key)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">String getProperty(String key, String defaultValue)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">T getProperty(String key, Class&lt;T&gt; type)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">T getProperty(String key, Class&lt;T&gt; type, T defaultValue)<br/>
前两个方法的返回值都是String值，不同的是，如果在指定的属性不存在的时候，我们可以通过设置defaultValue给他返回一个默认值。后两个方法我们可以把配置文件里面的值装换成我们需要的类型</li>
</ul>
</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//返回值是一个int类型，并且如果配置文件中没有对应的属性，设置默认值30</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">int</span> connectionCount=env.getProperty(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;db.connection.count&quot;</span>,Integer.class,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">getRequiredProperty()</strong><br/>
如果使用getProperty()方法的时候没有指定默认值，并且这个属性没有定义的话，获取到的值是null，如果这个属性必须定义的话，个可以使用getRequiredProperty()方法，如果这个方法获取的属性没有定义会抛出异常。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">containsProperty()</strong><br/>
使用containsProperty()方法来检查某个属性是否存在，使用getPropertyAsClass()方法将属性解析为类</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">检查哪些profile处于激活状态</strong>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">String [] getActiveProfiles()   返回激活profile名称的数组</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">String [] getDefaultProfiles() 返回默认profile名称的数组</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">boolean acceptsProfiles(String...profiles)  如果environment支持给定profile的话就返回true</li>
</ul>
</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">属性占位符</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Spring支持将属性定义到外部的属性的文件中，并使用占位符将其插入到SpringBean中，占位符的形式为使用&quot;${...}&quot;包装的属性名称</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">BlankDisc</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(
        @Value(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${disc.title}&quot;</span>)</span> String title ,
        @<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Value</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${disc.artist}&quot;</span>)</span> String artist) </span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.title=title;
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">this</span>.artist=artist;
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">为了使用占位符，我们需要配置一个<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">PropertyPlaceholderConfigurer</strong>bean 或 <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">PropertySourcesPlaceholderConfigurer</strong>bean，推荐使用后面的，以为它可以基于SpringEnvironment及其属性源来解析占位符</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>
<span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">static</span> PropertySourcesPlaceholderConfigurer <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">placeholderConfigurer</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> PropertySourcesPlaceholderConfigurer()
}
</code></pre>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">context</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">:</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">property-placeholder</span> /&gt;</span>
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">Spring表达式语言</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">使用Spring表达式语言进行装配，SpEL表达式要放到&quot;#{...}&quot;</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">SpEL的常见特性</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">使用bean的ID来引用bean</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">调用方法和访问对象的属性</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">对值进行算数、关系和逻辑运算</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">正则表达式匹配</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">集合操作</li>
</ul>
<hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">#{1}</strong><br/>
固定值</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">#{T(System).currentTimeMillis()}</strong><br/>
调用静态方法获取返回值，SpEL中访问类作作用域的方法(静态方法)和常量的话，要依赖 <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">T()</strong> 这个运算符</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">#{sgtPeppers.artist}</strong><br/>
获取ID为sgtPeppers的bean的artist属性</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">#{sgtPeppers.selectArtist()}</strong><br/>
获取ID为sgtPeppers的bean的selectArtist()方法的返回值，对于被调用方法的返回值来说，我们同样可以调用它的方法，比如这样<br/>
#{sgtPeppers.selectArtist().toUpprerCase()}，这样写可能会出现空指针异常，我们可以在这里面写Java代码来规避它，但SpEL提供了更简单的方式#{sgtPeppers.selectArtist()?.toUpprerCase()}，<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">&quot;?.&quot;</strong> 会先判断它左边的对象是不是null，如果不是则继续调用右边的方法，否则返回一个null</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">#{systemProperties['disc.title']}</strong><br/>
引用配置文件中的属性</li>
</ul>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">SpEL运算符</h5>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">运算符类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">运算符</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">算术运算</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">+,-,*,/,%,^</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">比较运算</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">&lt;,&gt;,==,&lt;=,&gt;=,lt,gt,eq,le,ge</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">逻辑运算</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">and,or,not,*</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">条件运算</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">?:(ternary),?:(Elvis)</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">正则表达式</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">matches</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">条件运算符与Java中的三元运算符很相似<br/>
一种用法是?前面是一个boolean值，ture的时候整个表达式的值是:之前的值，否则是:之后的值，这与Java中完全一致。还有一种用法是用来判断null，#{disc.title ? : 'JackSon'} 整个表达式会判断disc.title的值是不是null，如果是的话，则表达式的结果就是JackSon</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">正则表达式example<br/>
#{admin.email matches '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+//.com'}</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">计算集合</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">#{jukebox.songs[4].title}<br/>
获取集合songs中的第五个(从零开始)元素的title属性，整个集合来自ID为jukebox的bean</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">#{'abcd'[2]}<br/>
还可以从String中获取一个字符，上面的表达式的值就是&quot;c&quot;</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">SpEL还提供了</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">(.?[])</strong><br/>
查询运算符 <strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">(.?[])</strong> 用来对集合进行过滤，[]里面的是一个另一个表达式，值为boolean值，用于过滤逻辑。相当于Stream里面的filter</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">(.^[])</strong><br/>
返回满足过滤条件的第一个匹配项</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">(.$[])</strong><br/>
返回满足过滤条件的最后一个匹配项</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">(.![])</strong><br/>
投影运算符，它会从集合的每一个成员中选择特定的属性放到另外一个集合中，相当于Stream里面的map</li>
</ul>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%5Btoc%5D%0A%0A%23%23%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%0ASpring%E7%9A%84%E6%A0%B8%E5%BF%83%E4%B9%8B%E4%B8%80%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%EF%BC%8C%E5%8D%B3%E4%B8%8D%E9%9C%80%E8%A6%81%E6%88%91%E4%BB%AC%E6%9D%A5%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E6%98%AF%E6%8A%8A%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%81%8C%E8%B4%A3%E4%BA%A4%E7%BB%99Spring%E6%9D%A5%E5%8E%BB%E5%81%9A%EF%BC%8C%E6%88%91%E4%BB%AC%E9%80%9A%E8%BF%87IOC%E5%AE%B9%E5%99%A8%E6%9D%A5%E7%9B%B4%E6%8E%A5%E8%8E%B7%E5%8F%96%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%E5%AE%8C%E6%88%90%E8%BF%99%E4%B8%80%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E4%BB%85%E4%BB%85%E6%98%AF%E5%91%8A%E8%AF%89Spring%EF%BC%8C%E5%AE%83%E9%9C%80%E8%A6%81%E5%B8%AE%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E5%93%AA%E4%BA%9B%E5%AF%B9%E8%B1%A1%E3%80%82%E8%80%8C%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%9C%AC%E8%BA%AB%E5%86%85%E9%83%A8%E8%81%9A%E5%90%88%2F%E7%BB%84%E5%90%88%E4%BA%86%E5%85%B6%E4%BB%96%E5%AF%B9%E8%B1%A1%EF%BC%88%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%EF%BC%89%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B9%9F%E4%B8%8D%E9%9C%80%E8%A6%81%E5%8E%BB%E4%B8%BA%E8%BF%99%E4%BA%9B%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%EF%BC%8CSpring%E5%AE%B9%E5%99%A8%E8%B4%9F%E8%B4%A3%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84bean%E5%B9%B6%E9%80%9A%E8%BF%87DI%EF%BC%88%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%EF%BC%89%E6%9D%A5%E5%8D%8F%E8%B0%83%E8%BF%99%E4%BA%9B%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%91%8A%E8%AF%89Spring%E8%A6%81%E5%88%9B%E5%BB%BA%E9%82%A3%E4%BA%9Bbean%E5%B9%B6%E4%B8%94%E5%A6%82%E4%BD%95%E5%B0%86%E5%AE%83%E4%BB%AC%E8%A3%85%E9%85%8D%E5%88%B0%E4%B8%80%E8%B5%B7%EF%BC%8CSpring%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%9A%84%E8%A3%85%E9%85%8D%E6%9C%BA%E5%88%B6%0A*%20**%E5%9C%A8XML%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%98%BE%E5%BC%8F%E7%9A%84%E9%85%8D%E7%BD%AE**%0A*%20**%E5%9C%A8Java%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%98%BE%E7%A4%BA%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%88JavaConfig%EF%BC%89**%0A*%20**%E9%9A%90%E5%BC%8F%E7%9A%84bean%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6%E5%92%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D**%0A%0A%E5%87%A0%E4%B9%8E%E6%89%80%E6%9C%89%E7%9A%84%E8%AF%BE%E4%BB%B6%E9%83%BD%E6%98%AF%E5%9F%BA%E4%BA%8EXML%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9D%A5%E8%AE%B2%E8%BF%B0spring%E7%9A%84%E7%9F%A5%E8%AF%86%EF%BC%8C%E4%BD%86%E6%98%AFSpring4.0%E4%BD%9C%E8%80%85%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E6%90%AD%E9%85%8DJavaConfig%EF%BC%8CJavaConfig%E6%88%91%E7%9C%9F%E7%9A%84%E7%88%B1%E4%BA%86%E7%88%B1%E4%BA%86%EF%BC%8C%E8%BF%99%E5%BE%88Java%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%90%8E%E9%9D%A2%E7%9A%84SpringBoot%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E6%9D%A5%EF%BC%8CXML%E4%BD%9C%E7%94%A8%E4%BC%9A%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%BC%B1%E5%8C%96%E3%80%82%0A%23%23%23%20%E8%A3%85%E9%85%8DBean%0A%23%23%23%23%20%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%0A%0ASpring%E4%BB%8E%E4%B8%A4%E4%B8%AA%E8%A7%92%E5%BA%A6%E6%9D%A5%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E8%A3%85%E9%85%8D%0A*%20%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%0ASpring%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%8F%91%E7%8E%B0%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E5%88%9B%E5%BB%BA%E7%9A%84bean%EF%BC%8C%E5%8D%B3%E4%B8%8A%E9%9D%A2%E8%AF%B4%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E8%A6%81%E5%91%8A%E8%AF%89Spring%EF%BC%8C%E5%93%AA%E4%BA%9B%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%A6%81%E4%BA%A4%E7%BB%99Spring%E6%9D%A5%E7%AE%A1%E7%90%86%E7%9A%84%0A*%20%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%0ASpring%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%BB%A1%E8%B6%B3bean%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%EF%BC%8C%E4%BB%8EIOC%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%8F%96%E5%87%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%B5%8B%E5%80%BC%E7%BB%99%E9%9C%80%E8%A6%81%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%B1%BB%0A%0A**%40Component**%0A%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E6%94%BE%E5%9C%A8%E7%B1%BB%E5%90%8D%E4%B8%8A%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E8%A1%A8%E6%98%8E%E8%BF%99%E4%B8%AA%E7%B1%BB%E4%BC%9A%E4%BD%9C%E4%B8%BA%E7%BB%84%E4%BB%B6%E7%B1%BB%EF%BC%8CSpring%E4%BC%9A%E4%B8%BA%E6%A0%87%E6%B3%A8%E4%BA%86%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%B1%BB%E5%88%9B%E5%BB%BAbean%E5%B9%B6%E6%94%BE%E5%9C%A8IOC%E5%AE%B9%E5%99%A8%E4%B8%AD%E3%80%82%E8%BF%99%E5%B0%B1%E6%98%AF%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%EF%BC%8C%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%94%B1Spring%E5%B8%AE%E6%88%91%E4%BB%AC%E5%AE%8C%E6%88%90%E3%80%82bean%E7%9A%84ID%E9%BB%98%E8%AE%A4%E6%98%AF%E7%B1%BB%E5%90%8D%E9%A6%96%E5%AD%97%E6%AF%8D%E5%B0%8F%E5%86%99%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%B8%BB%E5%8A%A8%E8%AE%BE%E7%BD%AEValue%E5%80%BC%E6%9D%A5%E7%BB%99bean%E6%8C%87%E5%AE%9AID%0A**%40Named**%0A%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E5%92%8C%40Component%E7%9A%84%E5%8A%9F%E8%83%BD%E7%94%A8%E6%B3%95%E5%9F%BA%E6%9C%AC%E7%9B%B8%E5%90%8C%EF%BC%8C%E6%98%AF%E7%94%B1Java%20Dependency%20Injection%E6%8F%90%E4%BE%9B%E7%9A%84%0A%60%60%60java%0A%40Component(value%20%3D%20%22beanID%22)%0Apublic%20class%20Human%7B%7D%0A%40Named(value%20%3D%20%22beanID%22)%0Apublic%20class%20Teacher%7B%7D%0A%60%60%60%0A%0A**%40ComponentScan**%0A%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%94%A8%E4%BA%8E%E5%BC%80%E5%90%AF%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%BC%9A%E6%89%AB%E6%8F%8F%E4%B8%8E%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9B%B8%E5%90%8C%E7%9A%84%E5%8C%85%E4%BB%A5%E5%8F%8A%E8%BF%99%E4%B8%AA%E5%8C%85%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%AD%90%E5%8C%85%E3%80%82%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%8C%87%E5%AE%9Avalue%E5%B1%9E%E6%80%A7%E7%9A%84%E5%80%BC%E6%9D%A5%E6%89%AB%E6%8F%8F%E6%8C%87%E5%AE%9A%E7%9A%84%E5%8C%85%0A%60%60%60java%0A%2F%2F%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AEvalue%E5%80%BC%E6%9D%A5%E6%8C%87%E5%AE%9A%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%E5%8F%8A%E5%85%B6%E5%AD%90%E5%8C%85%0A%40ComponentScan(%22soundsystem%22)%0A%2F%2F%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87basePackages%E5%B1%9E%E6%80%A7%E6%9D%A5%E8%AE%BE%E7%BD%AE%0A%40ComponentScan(basePackages%3D%22soundsystem%22)%0A%2F%2FbasePackages%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E6%89%AB%E6%8F%8F%E5%A4%9A%E4%B8%AA%E5%8C%85%EF%BC%8C%E8%BF%99%E6%97%B6%E5%80%99%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%0A%40ComponentScan(basePackages%3D%7B%22soundsystem%22%2C%22video%22%7D)%0A%2F%2F%E4%B8%8A%E8%BF%B0%E7%9A%84%E6%96%B9%E5%BC%8F%E9%83%BD%E6%98%AF%E5%B0%86%E5%8C%85%E5%90%8D%E4%BB%A5String%E7%9A%84%E6%96%B9%E5%BC%8F%E4%BC%A0%E5%85%A5%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%98%AF%E7%B1%BB%E5%9E%8B%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%8C%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%81%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%8C%85%E5%90%8D%E6%94%B9%E5%8F%98%0A%2F%2F%E5%8F%AF%E4%BB%A5%E5%B0%86%E5%85%B6%E6%8C%87%E5%AE%9A%E4%B8%BA%E5%8C%85%E4%B8%AD%E6%89%80%E5%90%AB%E7%9A%84%E7%B1%BB%E6%88%96%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%8C%87%E5%AE%9A%E7%9A%84%E7%B1%BB%E6%89%80%E5%9C%A8%E7%9A%84%E5%8C%85%E4%BC%9A%E4%BD%9C%E4%B8%BA%E6%89%AB%E6%8F%8F%E7%9A%84%E5%9F%BA%E7%A1%80%E5%8C%85%0A%2F%2F%E5%BB%BA%E8%AE%AE%E5%9C%A8%E5%8C%85%E4%B8%AD%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%94%A8%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%89%AB%E6%8F%8F%E7%9A%84%E7%A9%BA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%9B%A0%E4%B8%BA%E9%87%8D%E6%9E%84%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%BA%94%E7%94%A8%E4%BB%A3%E7%A0%81%E4%BB%8E%E6%83%B3%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%E4%B8%AD%E7%A7%BB%E9%99%A4%E6%8E%89%0A%40ComponentScan(basePackageClasses%3D%7B%22CDplayer.class%22%2C%22DVDPlayer.class%22%7D)%0A%60%60%60%0A%60%60%60xml%0A%3C!--%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E6%89%AB%E6%8F%8F--%3E%0A%3Ccontext%3Acomponent-scan%20base-package%3D%22%E5%8C%85%E5%90%8D%22%3E%0A%60%60%60%0A%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%B0%B1%E6%98%AF%E8%AE%A9Spring%E8%87%AA%E5%8A%A8%E6%BB%A1%E8%B6%B3bean%E4%BE%9D%E8%B5%96%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%8C%E5%9C%A8%E6%BB%A1%E8%B6%B3%E4%BE%9D%E8%B5%96%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E4%BC%9A%E5%9C%A8Spring%E5%BA%94%E7%94%A8%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E5%AF%BB%E6%89%BE%E5%8C%B9%E9%85%8D%E6%9F%90%E4%B8%AAbean%E7%9A%84%E5%85%B6%E4%BB%96bean%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%40AutoWired%E6%9D%A5%E5%A3%B0%E6%98%8E%E8%A6%81%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%0A**%40AutoWired**%0A%60%60%60java%0Apublic%20class%20CDPlayer%20implements%20MediaPlayer%7B%0A%20%20%20%20%2F%2F%E7%9B%B4%E6%8E%A5%E6%94%BE%E5%9C%A8%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E4%B8%8A%0A%20%20%20%20%40AutoWired%0A%20%20%20%20private%20CompactDisc%20cd%3B%0A%20%20%20%20%2F%2F%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%0A%20%20%20%20%40AutoWired%0A%20%20%20%20public%20CDPlayer(CopmactDisc%20cd)%7B%0A%20%20%20%20%20%20%20%20this.cd%3Dcd%3B%20%20%20%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%0A%20%20%20%20%2F%2F%E5%B0%86%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E8%AE%BE%E4%B8%BAfalse%EF%BC%8C%E5%85%81%E8%AE%B8%E6%89%BE%E4%B8%8D%E5%88%B0%E8%A3%85%E9%85%8D%E7%9A%84bean%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%B8%BAtrue%EF%BC%8C%E6%B2%A1%E6%9C%89%E5%8C%B9%E9%85%8D%E7%9A%84bean%E4%BC%9A%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%0A%20%20%20%20%40AutoWired(required%3Dfalse)%0A%20%20%20%20public%20void%20setCompactDisc(CopmactDisc%20cd)%7B%0A%20%20%20%20%20%20%20%20this.cd%3Dcd%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A**%40Inject**%0A%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E6%9D%A5%E6%BA%90%E4%BA%8EJava%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%A7%84%E8%8C%83%EF%BC%8C%E5%92%8C%40AutoWired%E5%9F%BA%E6%9C%AC%E7%9B%B8%E5%90%8C%0A%0A%E4%B8%8D%E7%AE%A1%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%8CSetter%E6%96%B9%E6%B3%95%E8%BF%98%E6%98%AF%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95%EF%BC%8CSpring%E9%83%BD%E4%BC%9A%E5%B0%9D%E8%AF%95%E6%BB%A1%E8%B6%B3%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E4%B8%8A%E5%A3%B0%E6%98%8E%E7%9A%84%E4%BE%9D%E8%B5%96%E3%80%82%E5%81%87%E5%A6%82**%E6%9C%89%E4%B8%94%E4%BB%85%E6%9C%89**%E4%B8%80%E4%B8%AAbean%E5%8C%B9%E9%85%8D%E4%BE%9D%E8%B5%96%E9%9C%80%E6%B1%82%E7%9A%84%E8%AF%9D%EF%BC%8C%E9%82%A3%E4%B9%88%E8%BF%99%E4%B8%AAbean%E5%B0%86%E4%BC%9A%E8%A2%AB%E8%A3%85%E9%85%8D%E8%BF%9B%E6%9D%A5%EF%BC%8C%E4%BD%86%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%8C%B9%E9%85%8D%E7%9A%84bean%EF%BC%8C%E9%82%A3%E4%B9%88%E4%BC%9A%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%EF%BC%8C%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E5%BC%82%E5%B8%B8%E7%9A%84%E5%87%BA%E7%8E%B0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8A%8A%40AtuoWired%E7%9A%84**required**%E7%9A%84%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE%E4%B8%BAfalse%E3%80%82%E4%BD%86%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E4%B8%AA%E5%8C%B9%E9%85%8D%E7%9A%84bean%E5%91%A2%EF%BC%9F%E5%9C%A8%E5%90%8E%E9%9D%A2%E6%88%91%E4%BB%AC%E4%BC%9A%E5%8D%95%E7%8B%AC%E8%AE%B2%E8%BF%B0%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E7%9A%84%E6%AD%A7%E4%B9%89%E6%80%A7%0A%23%23%23%23%20%E6%98%BE%E5%BC%8F%E8%A3%85%E9%85%8D%0A%E5%B0%BD%E7%AE%A1%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%E5%92%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E6%9D%A5%E5%AE%9E%E7%8E%B0Spring%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E6%98%AF%E6%8E%A8%E8%8D%90%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%BD%86%E6%9C%89%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%88%91%E4%BB%AC%E6%B2%A1%E5%8A%9E%E6%B3%95%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%B8%8A%E9%9D%A2%E9%80%9A%E8%BF%87%E6%B7%BB%E5%8A%A0%40Component%E5%92%8C%40AutoWired%E6%B3%A8%E8%A7%A3(%E6%AF%94%E5%A6%82%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6)%E6%9D%A5%E5%B0%86%E8%BF%99%E4%BA%9B%E7%BB%84%E4%BB%B6%E8%A3%85%E9%85%8D%E5%88%B0%E5%B7%A5%E7%A8%8B%E4%B8%AD%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E6%88%91%E4%BB%AC%E5%B0%B1%E9%9C%80%E8%A6%81%E6%98%BE%E7%A4%BA%E8%A3%85%E9%85%8D%0A%23%23%23%23%23%20%E9%80%9A%E8%BF%87Java%E4%BB%A3%E7%A0%81%E8%A3%85%E9%85%8D%0AJavaConfig%E6%98%AF%E6%88%91%E5%BE%88%E5%96%9C%E6%AC%A2%E7%9A%84%E8%A3%85%E9%85%8D%E6%96%B9%E6%A1%88%EF%BC%8C%E7%9B%B8%E5%AF%B9%E4%BA%8E%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%EF%BC%8C%E6%98%BE%E7%A4%BA%E8%A3%85%E9%85%8D%E6%98%BE%E5%BE%97%E6%9B%B4%E6%9C%89%E6%8D%AE%E5%8F%AF%E5%BE%AA%E5%92%8C%E4%BF%A1%E4%BB%BB%EF%BC%8C%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%E4%B8%94%E6%98%93%E4%BA%8E%E9%87%8D%E6%9E%84%EF%BC%8C%E8%80%8C%E8%B7%9FXML%E7%9B%B8%E6%AF%94%EF%BC%8CJavaConfig%E6%98%BE%E5%BE%97%E6%9B%B4%E5%8A%A0%E6%98%93%E4%BA%8E%E7%90%86%E8%A7%A3%E5%92%8C%E5%8F%AF%E8%AF%BB%EF%BC%8C%E5%B9%B6%E4%B8%94JavaConfig%E4%B9%9F%E6%98%AFJava%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%BF%99%E7%A7%8D%E4%B8%80%E8%87%B4%E6%80%A7%E6%88%91%E6%98%AF%E9%9D%9E%E5%B8%B8%E9%92%9F%E6%84%8F%E7%9A%84%E3%80%82JavaConfig%E6%98%AF%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%A0%81%EF%BC%8C%E4%B8%8D%E5%8C%85%E5%9B%A0%E9%82%A3%E4%B8%AA%E8%AF%A5%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%EF%BC%8C%E6%88%91%E4%BB%AC%E9%80%9A%E5%B8%B8%E4%BC%9A%E5%B0%86JavaConfig%E6%94%BE%E5%88%B0%E5%8D%95%E7%8B%AC%E7%9A%84%E5%8C%85%E4%B8%AD%EF%BC%8C%E4%B8%8E%E5%85%B6%E4%BB%96%E5%BA%94%E7%94%A8%E7%9A%84%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB%E5%BC%80%E3%80%82%0A%60%60%60java%0A%2F%2F%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%94%A8%E6%9D%A5%E8%A1%A8%E6%98%8E%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%0A%40Configuration%0Apublic%20class%20CDPlayerConfig%7B%0A%20%20%20%20%2F%2F%40Bean%E6%B3%A8%E8%A7%A3%E4%BC%9A%E5%91%8A%E8%AF%89Spring%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E5%B0%86%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E8%A6%81%E6%B3%A8%E5%86%8C%E4%B8%BASpring%E5%BA%94%E7%94%A8%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84bean%E3%80%82%0A%20%20%20%20%2F%2F%E6%96%B9%E6%B3%95%E4%BD%93%E9%87%8D%E5%8C%85%E5%90%AB%E4%BA%86%E6%9C%80%E7%BB%88%E4%BA%A7%E7%94%9Fbean%E7%9A%84%E5%AE%9E%E4%BE%8B%E9%80%BB%E8%BE%91%2C%E5%8F%AA%E8%A6%81%E6%9C%80%E5%90%8E%E5%8F%AF%E4%BB%A5%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAbean%E5%B0%B1%E5%8F%AF%E4%BB%A5%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E9%87%8C%E9%9D%A2%E5%B9%B2%E5%BE%88%E5%A4%9A%E4%BA%8B%E6%83%85%0A%20%20%20%20%2F%2F%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5bean%E7%9A%84ID%E4%B8%8E%E5%B8%A6%E6%9C%89%40Bean%E7%9A%84%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E6%B3%95%E5%90%8D%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87name%E5%B1%9E%E6%80%A7%E6%9D%A5%E6%8C%87%E5%AE%9AID%0A%20%20%20%20%40Bean(name%3D%22sgtPaperBean%22)%0A%20%20%20%20public%20CompactDisc%20sgtPeppers()%7B%0A%20%20%20%20%20%20%20%20return%20new%20SgtPeppers()%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%E6%96%B9%E6%B3%95%E8%AF%B7%E6%B1%82%E4%B8%80%E4%B8%AACompactDisc%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%EF%BC%8C%E5%BD%93Spring%E8%B0%83%E7%94%A8%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AE%83%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E4%B8%80%E4%B8%AAComoactDisc%E5%AF%B9%E8%B1%A1%E5%88%B0%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%8E%BB%0A%20%20%20%20%20*%E6%97%A0%E8%AE%BA%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%B0%81%E5%88%9B%E5%BB%BA%E7%9A%84%EF%BC%8C%E5%8F%AA%E8%A6%81%E5%AE%83%E5%AD%98%E5%9C%A8%E5%9C%A8ioc%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%B0%B1%E5%8F%AF%E4%BB%A5%0A%20%20%20%20*%2F%0A%20%20%20%20%40Bean%0A%20%20%20%20public%20CDPlayer%20cdPlayer(CompactDisc%20compactDisc)%7B%0A%20%20%20%20%20%20%20%20return%20new%20CDPlayer(compactDisc)%3B%0A%20%20%20%20%EF%BD%9D%0A%20%20%20%20%2F*%0A%20%20%20%20%E6%88%91%E4%BB%AC%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%BF%99%E6%A0%B7%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%9B%A0%E4%B8%BAsgtPeppers%E6%96%B9%E6%B3%95%E8%A2%AB%40Bean%E6%A0%87%E8%AE%B0%E4%BA%86%EF%BC%8C%E6%89%80%E4%BB%A5%E6%89%80%E6%9C%89%E8%AE%BF%E9%97%AE%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E9%83%BD%E4%BC%9A%E8%A2%AB%E6%8B%A6%E6%88%AA%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAIOC%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%B7%B2%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E4%B8%8D%E4%BC%9A%E8%B0%83%E7%94%A8%E4%B8%80%E6%AC%A1%E5%B0%B1%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%0A%20%20%20%20*%2F%0A%20%20%20%20%40Bean%0A%20%20%20%20public%20CDPlayer%20cdPlayer()%7B%0A%20%20%20%20%20%20%20%20return%20new%20CDPlayer(sgtPeppers())%3B%0A%20%20%20%20%EF%BD%9D%0A%7D%0A%60%60%60%0A%40Configuration%E6%A0%87%E8%AE%B0%E7%9A%84%E7%B1%BB%E5%BF%85%E9%A1%BB%E7%AC%A6%E5%90%88%E4%B8%8B%E9%9D%A2%E7%9A%84%E8%A6%81%E6%B1%82%0A*%20%E9%85%8D%E7%BD%AE%E7%B1%BB%E5%BF%85%E9%A1%BB%E4%BB%A5%E7%B1%BB%E7%9A%84%E5%BD%A2%E5%BC%8F%E6%8F%90%E4%BE%9B%EF%BC%88%E4%B8%8D%E8%83%BD%E6%98%AF%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%E7%9A%84%E5%AE%9E%E4%BE%8B%EF%BC%89%EF%BC%8C%E5%85%81%E8%AE%B8%E9%80%9A%E8%BF%87%E7%94%9F%E6%88%90%E5%AD%90%E7%B1%BB%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E5%A2%9E%E5%BC%BA%EF%BC%88CGLIB%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%89%0A*%20%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%8D%E8%83%BD%E6%98%AFfinal%E7%B1%BB%EF%BC%88%E6%B2%A1%E6%B3%95%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%89%0A*%20%E9%85%8D%E7%BD%AE%E6%B3%A8%E8%A7%A3%E9%80%9A%E5%B8%B8%E4%B8%BA%E4%BA%86%E9%80%9A%E8%BF%87%40Bean%E6%B3%A8%E8%A7%A3%E7%94%9F%E6%88%90Spring%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E7%9A%84%E7%B1%BB%0A*%20%E9%85%8D%E7%BD%AE%E7%B1%BB%E5%BF%85%E9%A1%BB%E6%98%AF%E9%9D%9E%E7%A7%81%E6%9C%89%E7%9A%84%EF%BC%88%E5%8D%B3%E4%B8%8D%E8%83%BD%E5%9C%A8%E6%96%B9%E6%B3%95%E4%B8%AD%E5%A3%B0%E6%98%8E%EF%BC%8C%E4%B8%8D%E8%83%BD%E6%98%AF%20private%EF%BC%89%0A*%20%E4%BB%BB%E4%BD%95%E5%B5%8C%E5%A5%97%E9%85%8D%E7%BD%AE%E7%B1%BB%E9%83%BD%E5%BF%85%E9%A1%BB%E5%A3%B0%E6%98%8E%E4%B8%BAstatic%0A*%20%40Bean%20%E6%96%B9%E6%B3%95%E4%B8%8D%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%8F%8D%E8%BF%87%E6%9D%A5%E5%88%9B%E5%BB%BA%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%BF%94%E5%9B%9E%E7%9A%84bean%E5%A6%82%E6%9E%9C%E5%B8%A6%E6%9C%89%40Configuration%EF%BC%8C%E4%B9%9F%E4%B8%8D%E4%BC%9A%E8%A2%AB%E7%89%B9%E6%AE%8A%E5%A4%84%E7%90%86%EF%BC%8C%E5%8F%AA%E4%BC%9A%E4%BD%9C%E4%B8%BA%E6%99%AE%E9%80%9A%E7%9A%84%20bean%0A%0A%E5%85%B3%E4%BA%8EJavaConfig%E6%97%A5%E5%90%8E%E5%86%8D%E6%9D%A5%E5%A1%AB%E5%9D%91%0A%0A%23%23%23%23%23%20%E9%80%9A%E8%BF%87XML%E8%A3%85%E9%85%8DBean%0A%E9%BA%BB%E7%83%A6%E7%9A%84%E5%BE%88%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AF%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%BF%99%E5%9D%97%E3%80%82DI%E8%BF%98%E6%98%AF%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%90%A7%EF%BC%81%0A%60%60%60xml%0A%20%20%20%20%20%20%20%20%3C!--%20%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%20bean%20--%3E%0A%20%20%20%20%20%20%20%20%3C!--%20id%E5%B0%B1%E6%98%AFIOC%E5%AE%B9%E5%99%A8%E4%B8%ADbean%E7%9A%84ID%EF%BC%8Cclass%E4%B8%BAbean%E7%9A%84%E5%85%A8%E8%B7%AF%E5%BE%84%E5%90%8D(%E5%8F%8D%E5%B0%84%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1)%20--%3E%0A%09%3Cbean%20id%3D%22helloWorld%22%20class%3D%22com.HelllowSpring.helloworld.HelloWorld%22%3E%0A%09%09%3C!--%20%E4%B8%BA%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%20--%3E%0A%09%09%3C!--%20%E9%80%9A%E8%BF%87%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%3A%20%E9%80%9A%E8%BF%87%20setter%20%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7%E5%80%BC%20--%3E%0A%09%09%3Cproperty%20name%3D%22user%22%20value%3D%22Tom%22%3E%3C%2Fproperty%3E%0A%09%3C%2Fbean%3E%0A%09%0A%09%3C!--%20%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7%E5%80%BC%20--%3E%0A%09%3Cbean%20id%3D%22helloWorld1%22%20class%3D%22com.HelllowSpring.helloworld.HelloWorld%22%3E%0A%09%09%3C!--%20%E8%A6%81%E6%B1%82%3A%E5%9C%A8Bean%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%9C%89%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8.%20%20--%3E%0A%09%09%3Cconstructor-arg%20value%3D%22Mike%22%3E%3C%2Fconstructor-arg%3E%0A%09%3C%2Fbean%3E%09%09%0A%09%0A%09%3C!--%20%E9%80%9A%E8%BF%87%20ref%20%E5%B1%9E%E6%80%A7%E5%80%BC%E6%8C%87%E5%AE%9A%E5%BD%93%E5%89%8D%E5%B1%9E%E6%80%A7%E6%8C%87%E5%90%91%E5%93%AA%E4%B8%80%E4%B8%AAbean%20--%3E%0A%09%3Cbean%20id%3D%22daoRef%22%20class%3D%22com.HelllowSpring.helloworld.Dao%22%3E%3C%2Fbean%3E%0A%09%3Cbean%20id%3D%22service%22%20class%3D%22com.HelllowSpring.helloworld.Service%22%3E%09%09%0A%09%09%3Cproperty%20name%3D%22dao%22%20ref%3D%22daoRef%22%3E%3C%2Fproperty%3E%0A%09%3C%2Fbean%3E%0A%09%0A%09%20%3C!--%20%E5%A3%B0%E6%98%8E%E4%BD%BF%E7%94%A8%E5%86%85%E9%83%A8%20bean%20--%3E%0A%09%20%3C!--%20%E5%86%85%E9%83%A8%20bean%2C%20%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB%E5%AF%B9%E8%B1%A1%E3%80%82%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%A4%96%E9%83%A8%E7%9A%84bean%E6%9D%A5%E5%BC%95%E7%94%A8%2C%EF%BC%8C%E6%89%80%E4%BB%A5%E6%B2%A1%E6%9C%89%E5%BF%85%E8%A6%81%E8%AE%BE%E7%BD%AEid%E5%B1%9E%E6%80%A7%20--%3E%0A%09%3Cbean%20id%3D%22service2%22%20class%3D%22com.HelllowSpring.helloworld.Service%22%3E%0A%09%09%3Cproperty%20name%3D%22dao%22%3E%09%09%09%0A%09%09%09%3Cbean%20class%3D%22com.HelllowSpring.helloworld.Dao%22%3E%0A%09%09%09%09%3Cproperty%20name%3D%22dataSource%22%20value%3D%22c3p0%22%3E%3C%2Fproperty%3E%0A%09%09%09%3C%2Fbean%3E%0A%09%09%3C%2Fproperty%3E%0A%09%3C%2Fbean%3E%09%0A%09%0A%09%3C!--%20%E8%A3%85%E9%85%8D%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7%20--%3E%0A%09%3Cbean%20id%3D%22user%22%20class%3D%22com.HelllowSpring.helloworld.User%22%3E%0A%09%09%3Cproperty%20name%3D%22userName%22%20value%3D%22Jack%22%3E%3C%2Fproperty%3E%0A%09%09%3Cproperty%20name%3D%22cars%22%3E%0A%09%09%09%3C!--%20%E4%BD%BF%E7%94%A8%20list%20%E5%85%83%E7%B4%A0%E6%9D%A5%E8%A3%85%E9%85%8D%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7%20--%3E%0A%09%09%09%3Clist%3E%0A%09%09%09%09%3Cref%20bean%3D%22car%22%2F%3E%0A%09%09%09%09%3Cref%20bean%3D%22car1%22%2F%3E%0A%09%09%09%3C%2Flist%3E%0A%09%09%3C%2Fproperty%3E%0A%09%3C%2Fbean%3E%0A%09%0A%09%3C!--%20%E5%A3%B0%E6%98%8E%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%20bean%20--%3E%0A%09%3Cutil%3Alist%20id%3D%22cars%22%3E%0A%09%09%3Cref%20bean%3D%22car%22%2F%3E%0A%09%09%3Cref%20bean%3D%22car1%22%2F%3E%0A%09%3C%2Futil%3Alist%3E%0A%09%3C!--%20%E5%BC%95%E7%94%A8%E5%A4%96%E9%83%A8%E5%A3%B0%E6%98%8E%E7%9A%84%20list%20--%3E%09%0A%09%3Cbean%20id%3D%22user2%22%20class%3D%22com.HelllowSpring.helloworld.User%22%3E%0A%09%09%3Cproperty%20name%3D%22userName%22%20value%3D%22Rose%22%3E%3C%2Fproperty%3E%0A%09%09%3Cproperty%20name%3D%22cars%22%20ref%3D%22cars%22%3E%3C%2Fproperty%3E%0A%09%3C%2Fbean%3E%0A%60%60%60%0A%0A%23%23%23%23%20%E6%B7%B7%E5%90%88%E9%85%8D%E7%BD%AE%0ASpring%E6%94%AF%E6%8C%81%E6%B7%B7%E5%90%88%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%8D%B3%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E3%80%81XML%E5%92%8CjavaConfig%E5%8F%AF%E4%BB%A5%E6%B7%B7%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E3%80%82%E5%9C%A8%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AE%83%E5%B9%B6%E4%B8%8D%E5%9C%A8%E6%84%8F%E8%A6%81%E8%A3%85%E9%85%8D%E7%9A%84bean%E6%9D%A5%E8%87%AA%E5%93%AA%E9%87%8C%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E4%BC%9A%E8%80%83%E8%99%91%E5%88%B0Spring%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84%E6%89%80%E7%94%A8bean%EF%BC%8C%E4%B8%8D%E7%AE%A1%E5%AE%83%E6%98%AF%E5%9C%A8JavaConfig%E6%88%96XML%E4%B8%AD%E5%A3%B0%E6%98%8E%E7%9A%84%E8%BF%98%E6%98%AF%E9%80%9A%E8%BF%87%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84%0A*%20%E5%9C%A8JavaConfig%E4%B8%AD%E5%BC%95%E5%85%A5%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%0A**%40import**%20%E5%BC%95%E5%85%A5%E9%85%8D%E7%BD%AE%E7%B1%BB%0A**%40importResource**%E5%BC%95%E5%85%A5XML%E6%96%87%E4%BB%B6%0A*%20%E5%9C%A8XML%E4%B8%AD%E5%BC%95%E5%85%A5%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%0AJavaConfig%E6%9C%AC%E8%B4%A8%E4%B8%8A%E4%B9%9F%E6%98%AF%E4%B8%80%E4%B8%AAJava%E7%B1%BB%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E7%9B%B4%E6%8E%A5%E5%9C%A8XML%E6%96%87%E4%BB%B6%E4%B8%AD%E4%BB%A5%3Cbean%3E%E6%A0%87%E7%AD%BE%E5%BC%95%E5%85%A5%E8%BF%99%E4%B8%AA%E7%B1%BB%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%0A%0A%23%23%23%20%E7%8E%AF%E5%A2%83%E4%B8%8EProfile%0A**%40Profile**%0A%E6%8C%87%E5%AE%9A%E6%9F%90%E4%B8%AAbean%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AAprofile%EF%BC%8C%E5%8F%AA%E6%9C%89%E6%8C%87%E5%AE%9A%E7%9A%84profile%E5%A4%84%E4%BA%8E%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%EF%BC%8C%E9%82%A3%E4%B9%88%E8%BF%99%E4%B8%AAbean%E6%89%8D%E4%BC%9A%E8%A2%AB%E5%88%9B%E5%BB%BA%E3%80%82%0A*%20%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E5%8F%AF%E4%BB%A5%E6%B7%BB%E5%8A%A0%E5%9C%A8**%E9%85%8D%E7%BD%AE%E7%B1%BB**%E4%B8%8A%E3%80%82%E5%A6%82%E6%9E%9C%E5%AF%B9%E5%BA%94%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%B2%A1%E6%9C%89%E8%A2%AB%E6%BF%80%E6%B4%BB%EF%BC%8C%E9%82%A3%E4%B9%88%E8%BF%99%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%AD%E6%89%80%E6%9C%89%E5%B8%A6%E6%9C%89%40Bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E6%B3%95%E9%83%BD%E4%BC%9A%E8%A2%AB%E5%BF%BD%E7%95%A5%E6%8E%89%E3%80%82%0A*%20%E5%A6%82%E6%9E%9C%E6%B3%A8%E8%A7%A3%E6%B7%BB%E5%8A%A0%E5%88%B0**%E6%96%B9%E6%B3%95**%E4%B8%8A%EF%BC%8C%E9%82%A3%E4%B9%88%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E5%8F%AA%E6%9C%89%E8%A7%84%E5%AE%9A%E7%9A%84profile%E8%A2%AB%E6%BF%80%E6%B4%BB%E4%BA%86%E6%89%8D%E4%BC%9A%E8%A2%AB%E5%88%9B%E5%BB%BA%E3%80%82%E5%90%8C%E7%B1%BB%E4%B8%8B%E5%85%B6%E5%AE%83%E6%B2%A1%E6%9C%89%E8%A2%AB%40Profile%E6%A0%87%E8%AE%B0%E7%9A%84bean%E6%96%B9%E6%B3%95%E5%A7%8B%E7%BB%88%E9%83%BD%E4%BC%9A%E5%88%9B%E5%BB%BA%EF%BC%8C%E4%B8%8E%E6%BF%80%E6%B4%BB%E5%93%AA%E4%B8%AAprofile%E6%B2%A1%E6%9C%89%E5%85%B3%E7%B3%BB%0A%60%60%60java%0A%40Configuration%0Apublic%20class%20CDPlayerConfig%7B%0A%20%20%20%20%2F%2F%E5%8F%AA%E6%9C%89%E5%90%8D%E4%B8%BAdev%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6(%E9%85%8D%E7%BD%AE%E7%B1%BB)%E5%A4%84%E4%BA%8E%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%E8%BF%99%E4%B8%AAbean%E6%89%8D%E4%BC%9A%E8%A2%ABSpring%E5%88%9B%E5%BB%BA%0A%20%20%20%20%40Profile(%22dev%22)%0A%20%20%20%20%40Bean(name%3D%22sgtPaperBean%22)%0A%20%20%20%20public%20CompactDisc%20sgtPeppers()%7B%0A%20%20%20%20%20%20%20%20return%20new%20SgtPeppers()%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%E5%9B%A0%E4%B8%BA%40Profile%E6%B3%A8%E8%A7%A3%E5%8F%AA%E6%98%AF%E5%8A%A0%E5%9C%A8%E4%BA%86%E6%96%B9%E6%B3%95%E4%B8%8A%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%97%A0%E8%AE%BA%E5%A6%82%E4%BD%95%E9%83%BD%E4%BC%9A%E8%A2%ABSpring%E5%88%9B%E5%BB%BA%0A%20%20%20%20%40Bean%0A%20%20%20%20public%20CDPlayer%20cdPlayer(CompactDisc%20compactDisc)%7B%0A%20%20%20%20%20%20%20%20return%20new%20CDPlayer(compactDisc)%3B%0A%20%20%20%20%EF%BD%9D%0A%7D%0A%60%60%60%0A%0A%0A%E5%9C%A8XML%E4%B8%AD%E6%88%91%E4%BB%AC%E9%80%9A%E8%BF%87beans%E6%A0%87%E7%AD%BE%E7%9A%84profile%E5%B1%9E%E6%80%A7%E6%9D%A5%E5%A3%B0%E6%98%8E%E8%BF%99%E4%B8%AAbeans%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AAprofile%0A%60%60%60xml%0A%3Cbeans%20profile%3D%22QA%22%3E%0A%20%20%20%20%3Cbean%3E%3C%2Fbean%3E%0A%3C%2Fbeans%3E%0A%60%60%60%0A%0ASpring%E5%9C%A8%E7%A1%AE%E5%AE%9A%E5%93%AA%E4%B8%AAprofile%E5%A4%84%E4%BA%8E%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BE%9D%E8%B5%96%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E5%B1%9E%E6%80%A7%EF%BC%9A%0A*%20**srping.profiles.active**%0A*%20**spring.profiles.default**%0A%0A%E5%A6%82%E6%9E%9C%E8%AE%BE%E7%BD%AE%E4%BA%86active%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AF%9D%EF%BC%8C%E9%82%A3%E4%B9%88%E5%AE%83%E7%9A%84%E5%80%BC%E5%B0%B1%E7%94%A8%E6%9D%A5%E7%A1%AE%E5%AE%9A%E5%93%AA%E4%B8%AAproflie%E6%98%AF%E6%BF%80%E6%B4%BB%E7%9A%84%E3%80%82%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E8%AE%BE%E7%BD%AE%E7%9A%84%E8%AF%9D%EF%BC%8CSpring%E4%BC%9A%E6%9F%A5%E6%89%BEdefault%E7%9A%84%E5%80%BC%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%83%BD%E6%B2%A1%E6%9C%89%E8%AE%BE%E7%BD%AE%E7%9A%84%E8%AF%9D%EF%BC%8C%E9%82%A3%E5%B0%B1%E6%B2%A1%E6%9C%89%E6%BF%80%E6%B4%BBproflie%EF%BC%8C%E5%B0%B1%E5%8F%AA%E4%BC%9A%E5%88%9B%E5%BB%BA%E6%B2%A1%E6%9C%89%E5%AE%9A%E4%B9%89%E5%9C%A8profile%E4%B8%AD%E7%9A%84bean%E3%80%82%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%BF%80%E6%B4%BB%E5%A4%9A%E4%B8%AAprofile%EF%BC%8C%E4%BB%A5%E9%80%97%E5%8F%B7%E5%88%86%E9%9A%94%E3%80%82%0A%0A**%E6%9C%89%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%9D%A5%E8%AE%BE%E7%BD%AE%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%B1%9E%E6%80%A7**%0A*%20%E4%BD%9C%E4%B8%BADispatcherServlet%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%0A*%20%E4%BD%9C%E4%B8%BAWeb%E5%BA%94%E7%94%A8%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8F%82%E6%95%B0%0A*%20%E4%BD%9C%E4%B8%BAJNDI%E6%9D%A1%E7%9B%AE%0A*%20%E4%BD%9C%E4%B8%BA%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%0A*%20%E4%BD%9C%E4%B8%BAJVM%E7%9A%84%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7%0A*%20%E5%9C%A8%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%B8%8A%EF%BC%8C%E4%BD%BF%E7%94%A8%40ActiveProfiles%E6%B3%A8%E8%A7%A3%0A%0A%23%23%23%20%E6%9D%A1%E4%BB%B6%E5%8C%96%E7%9A%84Bean%0A%0A**%40Conditional**%0A%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%94%A8%E5%9C%A8%E5%B8%A6%E6%9C%89%40Bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%8A%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%BB%99%E5%AE%9A%E6%9D%A1%E4%BB%B6%E4%B8%BATRUE%EF%BC%8C%E5%B0%B1%E4%BC%9A%E5%88%9B%E5%BB%BA%E8%BF%99%E4%B8%AAbean%EF%BC%8C%E5%90%A6%E5%88%99%E7%9A%84%E8%AF%9D%E8%BF%99%E4%B8%AAbean%E4%BC%9A%E8%A2%AB%E5%BF%BD%E7%95%A5%EF%BC%8C%E4%B8%8D%E4%BC%9A%E8%A2%AB%E5%88%9B%E5%BB%BA%0A%60%60%60java%0A%40Bean%0A%40Conditional(MagicExistsCondition.class)%0Apublic%20MagicBean%20magicBean()%7B%0A%20%20%20%20return%20new%20MagicBean()%3B%0A%7D%0A%60%60%60%0A%E8%AE%BE%E7%BD%AE%E7%BB%99%40Conditional%E7%9A%84%E7%B1%BB%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%BB%BB%E6%84%8F%E5%AE%9E%E7%8E%B0%E4%BA%86Condition%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%0A%60%60%60java%0Apublic%20interface%20Condition%7B%0A%20%20%20%20boolean%20matches(ConditionContext%20ctxt%2CAnnotatedTypeMetadata%20metadata)%3B%0A%7D%0A%60%60%60%0A%60%60%60java%0Apublic%20class%20MagicExistsCondition%20implements%20Condition%7B%0A%20%20%20%20public%20boolean%20matches(ConditionContext%20context%2CAnnotatedTypeMetadata%20metadata)%7B%0A%20%20%20%20%20%20%20%20Environment%20env%20%3D%20context.getEnvironment()%3B%0A%20%20%20%20%20%20%20%20return%20env.containsProperty(%22magic%22)%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%E5%9C%A8%E4%B8%8A%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%B8%AD%EF%BC%8C%E6%96%B9%E6%B3%95%E9%80%9A%E8%BF%87%E7%BB%99%E5%AE%9A%E7%9A%84ConditionContext%E5%AF%B9%E8%B1%A1%E5%BE%97%E5%88%B0%E4%BA%86Environment%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E7%94%A8%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9D%A5%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%90%8D%E4%B8%BAmagic%E7%9A%84%E7%8E%AF%E5%A2%83%E5%B1%9E%E6%80%A7%E3%80%82%E9%80%9A%E8%BF%87**ConditionContext**%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%81%9A%E5%88%B0%E5%A6%82%E4%B8%8B%E5%87%A0%E7%82%B9%0A*%20%E5%80%9F%E5%8A%A9**getRegistry()**%20%E8%BF%94%E5%9B%9E%E7%9A%84**BeanDefinitionRegistry**%20%E6%A3%80%E6%9F%A5bean%E7%9A%84%E5%AE%9A%E4%B9%89%0A*%20%E5%80%9F%E5%8A%A9**getBeanFactory()**%20%E8%BF%94%E5%9B%9E%E7%9A%84**ConfigurableListableBeanFactory**%20%E6%A3%80%E6%9F%A5bean%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%88%96%E8%80%85%E6%9D%A5%E6%8E%A2%E6%9F%A5bean%E7%9A%84%E5%B1%9E%E6%80%A7%0A*%20%E5%80%9F%E5%8A%A9**getEnvironment()**%20%E8%BF%94%E5%9B%9E%E7%9A%84**Enironment**%20%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E4%BB%A5%E5%8F%8A%E5%AE%83%E4%BB%AC%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88%0A*%20%E8%AF%BB%E5%8F%96%E5%B9%B6%E6%8E%A2%E6%9F%A5**getResourceLoader()**%20%E8%BF%94%E5%9B%9E%E7%9A%84**ResourceLoader**%20%E6%89%80%E5%8A%A0%E8%BD%BD%E7%9A%84%E8%B5%84%E6%BA%90%0A*%20%E5%80%9F%E5%8A%A9**getClassLoader()**%20%E8%BF%94%E5%9B%9E%E7%9A%84**ClassLoader**%20%E5%8A%A0%E8%BD%BD%E5%B9%B6%E6%A3%80%E6%9F%A5%E7%B1%BB%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%0A%0A%23%23%23%20%E5%A4%84%E7%90%86%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E7%9A%84%E6%AD%A7%E4%B9%89%E6%80%A7%0A*%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%80%20**%40primary**%0A%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E6%8A%8A%E5%A4%9A%E4%B8%AA%E7%AC%A6%E5%90%88%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6%E7%9A%84bean%E4%B8%AD%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E9%A6%96%E9%80%89bean%0A%60%60%60java%0A%40Bean%0A%40Primary%0Apublic%20Dessert%20iceCream()%7B%0A%20%20%20%20return%20new%20IceCream()%3B%0A%7D%0A%60%60%60%0A%60%60%60xml%0A%3Cbean%20id%3D%22iceCream%22%20class%3D%22com.desserteater.IceCream%22%20primary%3D%22true%22%20%2F%3E%0A%60%60%60%0A*%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%BA%8C%20**%40Qualifier**%0A%E4%BD%86%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E4%B8%AAbean%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%BA%86%E9%A6%96%E9%80%89bean%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E9%99%90%E5%AE%9A%E7%AC%A6%E7%9A%84%E6%96%B9%E5%BC%8F%0A%0A**%40Qualifier**%E6%B3%A8%E8%A7%A3%E6%98%AF%E4%BD%BF%E7%94%A8%E9%99%90%E5%AE%9A%E7%AC%A6%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E5%BC%8F%0A%60%60%60java%0A%40Autowired%0A%2F%2F%E8%BF%99%E9%87%8C%E5%8F%AA%E4%BC%9A%E6%B3%A8%E5%85%A5%E5%90%8C%E6%A0%B7%E6%A0%87%E6%B3%A8%E4%BA%86%40Qualifier(%22iceCream%22)%E7%9A%84bean%0A%40Qualifier(%22iceCream%22)%E7%9A%84bean%0Apublic%20void%20setDessert(Dessert%20dessert)%7B%0A%20%20%20%20this.dessert%20%3D%20dessert%3B%0A%7D%0A%60%60%60%0A%E8%BF%99%E6%98%AF%E4%BD%BF%E7%94%A8%E9%99%90%E5%AE%9A%E7%AC%A6%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90%EF%BC%8C%40Qualifier%E7%9A%84%E5%8F%82%E6%95%B0%E5%B0%B1%E6%98%AF%E6%83%B3%E8%A6%81%E6%B3%A8%E5%85%A5%E7%9A%84bean%E7%9A%84ID%EF%BC%8C%E6%89%80%E6%9C%89%E4%BD%BF%E7%94%A8%40Component%E6%B3%A8%E8%A7%A3%E5%A3%B0%E6%98%8E%E7%9A%84%E7%B1%BB%E9%83%BD%E4%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%BAbean%EF%BC%8C%E5%B9%B6%E4%B8%94bean%E7%9A%84ID%E4%B8%BA%E9%A6%96%E5%AD%97%E6%AF%8D%E5%B0%8F%E5%86%99%E7%9A%84%E7%B1%BB%E5%90%8D%EF%BC%8C%E5%AE%9E%E9%99%85%E4%B8%8A%40Qualifier(%22iceCream%22)%E6%89%80%E6%8C%87%E5%90%91%E7%9A%84bean%E8%A6%81%E6%9C%89%E4%B8%80%E4%B8%AAString%20%E7%9A%84%E2%80%9CiceCream%E2%80%9D%E4%BD%9C%E4%B8%BA%E9%99%90%E5%AE%9A%E7%AC%A6%EF%BC%8C%E6%89%80%E6%9C%89%E7%9A%84bean%E9%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E9%BB%98%E8%AE%A4%E7%9A%84%E9%99%90%E5%AE%9A%E7%AC%A6%EF%BC%8C%E8%BF%99%E4%B8%AA%E9%99%90%E5%AE%9A%E7%AC%A6%E4%B8%8Ebean%E7%9A%84ID%E7%9B%B8%E5%90%8C%EF%BC%8C%E4%BD%86%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E9%99%90%E5%AE%9A%E7%AC%A6%E4%B8%8Ebean%E7%9A%84ID%E7%B4%A7%E7%B4%A7%E8%80%A6%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%88%91%E4%BB%AC%E4%BF%AE%E6%94%B9%E4%BA%86bean%E7%9A%84%E5%90%8D%E7%A7%B0%E5%B0%B1%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%99%90%E5%AE%9A%E7%AC%A6%E7%9A%84%E5%A4%B1%E8%B4%A5%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%99%90%E5%AE%9A%E7%AC%A6%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%80%BC%0A%60%60%60java%0A%40Component%0A%2F%2F%E5%BD%93%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%80%BC%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%BB%BA%E8%AE%AE%E4%B8%BAbean%E9%80%89%E6%8B%A9%E7%89%B9%E5%BE%81%E6%80%A7%E6%B4%BB%E6%8F%8F%E8%BF%B0%E6%80%A7%E7%9A%84%E8%AF%8D%E8%AF%AD%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E9%9A%8F%E6%84%8F%E7%9A%84%E5%90%8D%E5%AD%97%0A%40Qualifier(%22cold%22)%0Apublic%20class%20IceCream%20implements%20Dessert%7B%7D%0A%60%60%60%0A%E6%9C%89%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E5%BD%93%E4%B8%8D%E5%90%8C%E7%9A%84%E7%B1%BB%E9%83%BD%E9%87%87%E7%94%A8%E4%BA%86%E5%90%8C%E6%A0%B7%E7%9A%84%E6%8F%8F%E8%BF%B0%E6%80%A7%E7%9A%84%E6%B3%A8%E8%A7%A3%EF%BC%8C%E8%BF%99%E6%97%B6%E5%80%99%E4%B9%9F%E4%BC%9A%E6%9C%89%E6%AD%A7%E4%B9%89%E6%80%A7%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%83%B3%E5%88%B0%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%40Qualifier%E6%B3%A8%E8%A7%A3%E6%9D%A5%E5%B0%86bean%E9%99%90%E5%AE%9A%E5%88%B0%E4%B8%80%E4%B8%AA%EF%BC%8C%E4%BD%86%E9%81%97%E6%86%BE%E7%9A%84%E6%98%AF%EF%BC%8C%40Qualifier%E6%B3%A8%E8%A7%A3%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%9C%A8%E5%AE%9A%E4%B9%89%E6%97%B6%E6%B7%BB%E5%8A%A0%40Repeatable%E6%B3%A8%E8%A7%A3%EF%BC%8C%E6%89%80%E4%BB%A5Java%E4%B8%8D%E5%85%81%E8%AE%B8%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE%E4%B8%8A%E9%87%8D%E5%A4%8D%E5%87%BA%E7%8E%B0%E5%A4%9A%E4%B8%AA%40Qualifier%E6%B3%A8%E8%A7%A3%0A%EF%BC%8C%E4%BD%86%E6%98%AF%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E9%99%90%E5%AE%9A%E7%AC%A6%E6%B3%A8%E8%A7%A3%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E6%9C%AC%E8%BA%AB%E4%BD%BF%E7%94%A8%40Qualifier%E6%B3%A8%E8%A7%A3%E6%9D%A5%E6%A0%87%E6%B3%A8%0A%0A%60%60%60java%0A%40Target(%7BElementType.CONSTRUCTOR%2CElementType.FIELD%2CElementType.METHOD%2CElementType.ANNOTATION_TYPE.TYPE%7D)%0A%40Retention(RetentionPolicy.RUNTIME)%0A%40Qualifier%0Apublic%20%40interface%20Cold%20%7B%7D%0A%60%60%60%0A%60%60%60java%0A%40Target(%7BElementType.CONSTRUCTOR%2CElementType.FIELD%2CElementType.METHOD%2CElementType.ANNOTATION_TYPE.TYPE%7D)%0A%40Retention(RetentionPolicy.RUNTIME)%0A%40Qualifier%0Apublic%20%40interface%20Creamy%20%7B%7D%0A%0A%2F%2F%E8%BF%99%E6%A0%B7%EF%BC%8C%E6%88%91%E4%BB%AC%E5%9C%A8%E5%A3%B0%E6%98%8E%E5%92%8C%E6%B3%A8%E5%85%A5bean%E7%9A%84%E5%9C%B0%E6%96%B9%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E5%8A%A0%E4%B8%8A%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%B3%A8%E8%A7%A3%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%B0%86%E5%8F%AF%E9%80%89%E8%8C%83%E5%9B%B4%E7%BC%A9%E5%B0%8F%E5%88%B0%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAbean%E6%BB%A1%E8%B6%B3%0A%40Component%0A%40Cold%0A%40Creamy%0Apublic%20class%20IceCream%20implements%20Dessert%7B%7D%0A%0A%40Autowired%0A%40Cold%0A%40Creamy%0Apublic%20void%20setDessert()%7B%0A%20%20%20%20this.dessert%20%3D%20dessert%3B%0A%7D%0A%60%60%60%0A%23%23%23%20bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%0A%0A*%20**%E5%8D%95%E4%BE%8B(Singleton)**%0A%E5%9C%A8%E6%95%B4%E4%B8%AA%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8C%E5%8F%AA%E5%88%9B%E5%BB%BAbean%E7%9A%84%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%0A*%20**%E5%8E%9F%E5%9E%8B(Prototype)**%0A%E6%AF%8F%E6%AC%A1%E6%B3%A8%E5%85%A5%E6%88%96%E8%80%85%E9%80%9A%E8%BF%87Spring%E5%BA%94%E7%94%A8%E4%B8%8A%E4%B8%8B%E6%96%87%E8%8E%B7%E5%8F%96%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%83%BD%E4%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84bean%E5%AE%9E%E4%BE%8B%0A*%20**%E4%BC%9A%E8%AF%9D(Session)**%0A%E5%9C%A8Web%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8C%E4%B8%BA%E6%AF%8F%E4%B8%AA%E4%BC%9A%E8%AF%9D%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAbean%E5%AE%9E%E4%BE%8B%0A*%20**%E8%AF%B7%E6%B1%82(Request)**%0A%E5%9C%A8Web%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8C%E4%B8%BA%E6%AF%8F%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAbean%E5%AE%9E%E4%BE%8B%0A%0A%0A%E5%8D%95%E4%BE%8B%E6%98%AF%E9%BB%98%E8%AE%A4%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8C%E4%BD%BF%E7%94%A8%40Scope%E6%B3%A8%E8%A7%A3%E6%9D%A5%E5%A3%B0%E6%98%8Ebean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E5%8F%AF%E4%BB%A5%E5%92%8C%40Component%E5%92%8C%40Bean%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8%E3%80%82%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8xml%E4%B8%AD%EF%BC%8C%E4%BD%BF%E7%94%A8bean%E7%9A%84scope%E5%B1%9E%E6%80%A7%E6%9D%A5%E8%AE%BE%E7%BD%AE%0A%60%60%60java%0A%40Component%0A%40Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)%0Apublic%20class%20Notepad%7B%7D%0A%0A%40Bean%0A%40Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)%0Apublic%20class%20Notepad%7B%0A%20%20%20%20return%20new%20Notepad()%3B%0A%7D%0A%60%60%60%0A%60%60%60xml%0A%3Cbean%20id%3D%22notepad%22%20class%3D%22com.myapp.Notepad%22%20scope%3D%22prototype%22%20%2F%3E%0A%60%60%60%0A%23%23%23%23%20**%E4%BD%BF%E7%94%A8%E8%AF%B7%E6%B1%82%E5%92%8C%E4%BC%9A%E8%AF%9D%E4%BD%9C%E7%94%A8%E5%9F%9F**%0A%E4%B8%80%E4%B8%AA%E7%94%9F%E6%B4%BB%E5%9C%BA%E6%99%AF%EF%BC%8C%E8%B4%AD%E7%89%A9%E8%BD%A6bean%EF%BC%8C%E8%BF%99%E4%B8%AAbean%E5%BA%94%E8%AF%A5%E6%98%AF%E4%BD%9C%E4%B8%BA%E4%BC%9A%E8%AF%9D%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8C%E5%9C%A8%E6%95%B4%E4%B8%AA%E4%BC%9A%E8%AF%9D%E5%92%8C%E8%AF%B7%E6%B1%82%E8%8C%83%E5%9B%B4%E5%86%85%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%E3%80%82%0A%60%60%60java%0A%40Component%0A%40Scope(value%3DWebApolicationContext.SCOPE_SESSION%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20proxyMode%3DScopedProxyMode.INTERFACES%0A)%0Apublic%20ShoppingCart%20cart()%7B%0A%7D%0A%40Component%0Apublic%20class%20StoreService%7B%0A%20%20%20%20%40AutoWired%0A%20%20%20%20public%20void%20setShoppingCart(ShoppingCart%20shoppingCart)%7B%0A%20%20%20%20%20%20%20%20this.shoppingCart%3DshoppingCary%3B%0A%20%20%20%20%7D%20%20%20%0A%7D%0A%60%60%60%0A%0A%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BC%9A%E8%AF%9D%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84ShoppingCart%EF%BC%8C%E4%B8%80%E4%B8%AA%E6%98%AF%E5%8D%95%E4%BE%8B%E7%9A%84StoreService%EF%BC%8CStoreService%E4%B8%AD%E8%81%9A%E5%90%88%E4%BA%86ShoppingCart%E5%AF%B9%E8%B1%A1%E3%80%82%E4%BD%86%E8%BF%99%E6%A0%B7%E4%BC%9A%E6%9C%89%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1%E4%BC%9A%E5%9C%A8%E5%8A%A0%E8%BD%BD%E6%97%B6%E5%88%9B%E5%BB%BA%EF%BC%8C%E8%80%8C%E8%BF%99%E6%97%B6%E5%80%99%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%BF%98%E6%B2%A1%E6%9C%89%E7%94%9F%E6%88%90%EF%BC%8C%E5%8F%AA%E6%9C%89%E5%88%9B%E5%BB%BA%E4%BA%86%E4%BC%9A%E8%AF%9D%E4%B9%8B%E5%90%8E%E6%89%8D%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%BF%99%E4%B8%AA%E5%AE%9E%E4%BE%8B%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%88%91%E4%BB%AC%E5%B8%8C%E6%9C%9BStoreService%E5%AF%B9%E8%B1%A1%E9%87%8C%E9%9D%A2%E7%9A%84%E8%BF%99%E4%B8%AAShoppingCart%E6%98%AF%E9%92%88%E5%AF%B9%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D%E7%9A%84%EF%BC%8C%E4%B8%8D%E5%90%8C%E4%BC%9A%E8%AF%9D%E4%B8%AD%E7%9A%84%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E3%80%82%E4%B8%BA%E4%BA%86%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E5%9C%A8ShoppingCart%E4%B8%AD%E8%AE%BE%E7%BD%AE%E4%BA%86proxyMode%E5%B1%9E%E6%80%A7%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E4%BC%9A%E4%B8%BAShoppingCart%E5%AF%B9%E8%B1%A1%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%BD%93%E8%B0%83%E7%94%A8%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E4%BC%9A%E5%B0%86%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E7%BB%99%E4%BC%9A%E8%AF%9D%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%87%8C%E7%9C%9F%E6%AD%A3%E7%9A%84ShoppingCart%0A%0Aproxy%E7%9A%84%E5%B1%9E%E6%80%A7%E6%9C%89%E4%B8%A4%E7%A7%8D%0A*%20ScopedProxyMode.INTERFACES%0A%E8%BF%99%E4%B8%AA%E6%98%AF%E5%9F%BA%E4%BA%8EJDK%E5%AE%9E%E7%8E%B0%E7%9A%84%0A*%20ScopedProxyMode.TARGET_CLASS%0A%E8%BF%99%E4%B8%AA%E6%98%AF%E5%9F%BA%E4%BA%8ECGLIB%E5%AE%9E%E7%8E%B0%E7%9A%84%0A%0A%23%23%23%20%E8%BF%90%E8%A1%8C%E6%97%B6%E5%80%BC%E6%B3%A8%E5%85%A5%0ASpring%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%A4%E7%A7%8D%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B1%82%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F%0A*%20%E5%B1%9E%E6%80%A7%E5%8D%A0%E4%BD%8D%E7%AC%A6%0A*%20Spring%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80%0A%0A%23%23%23%23%20%E6%B3%A8%E5%85%A5%E5%A4%96%E9%83%A8%E7%9A%84%E5%80%BC%0A%60%60%60java%0A%40Configuration%0A%40PropertySource(%22classpath%3A%2Fcom%2Fsoundsystem%2Fapp.properties%22)%0Apublic%20class%20ExpressiveConfig%7B%0A%20%20%20%20%40Autowired%0A%20%20%20%20Environment%20env%0A%20%20%20%20%40Bean%0A%20%20%20%20public%20BlankDisc%20disc()%7B%0A%20%20%20%20%20%20%20%20return%20new%20BlankDisc(env.getProperty(%22disc.title%22)%2Cenv.getProperty(%22disc.artist%22))%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BE%8B%E5%AD%90%E4%B8%AD%EF%BC%8C%40PropertySource%E5%BC%95%E7%94%A8%E4%BA%86%E7%B1%BB%E8%B7%AF%E5%BE%84%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BAapp.properties%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E4%BC%9A%E8%A2%AB%E5%8A%A0%E8%BD%BD%E5%88%B0Environment%E4%B8%AD%EF%BC%8C%E9%80%9A%E8%BF%87Environment%E7%9A%84getProperty%E6%96%B9%E6%B3%95%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%8F%96%E5%88%B0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%0A%23%23%23%23%23%20**Environment**%0A*%20**Environment%E5%AF%B9%E8%B1%A1%E7%9A%84getProperty%E6%96%B9%E6%B3%95%E6%9C%89%E5%9B%9B%E4%B8%AA%E9%87%8D%E8%BD%BD**%0A%20%20%20%20*%20String%20getProperty(String%20key)%0A%20%20%20%20*%20String%20getProperty(String%20key%2C%20String%20defaultValue)%0A%20%20%20%20*%20T%20getProperty(String%20key%2C%20Class%3CT%3E%20type)%20%0A%20%20%20%20*%20T%20getProperty(String%20key%2C%20Class%3CT%3E%20type%2C%20T%20defaultValue)%0A%E5%89%8D%E4%B8%A4%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E9%83%BD%E6%98%AFString%E5%80%BC%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%9C%A8%E6%8C%87%E5%AE%9A%E7%9A%84%E5%B1%9E%E6%80%A7%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AEdefaultValue%E7%BB%99%E4%BB%96%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E9%BB%98%E8%AE%A4%E5%80%BC%E3%80%82%E5%90%8E%E4%B8%A4%E4%B8%AA%E6%96%B9%E6%B3%95%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E6%8A%8A%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2%E7%9A%84%E5%80%BC%E8%A3%85%E6%8D%A2%E6%88%90%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%9A%84%E7%B1%BB%E5%9E%8B%0A%60%60%60java%0A%2F%2F%E8%BF%94%E5%9B%9E%E5%80%BC%E6%98%AF%E4%B8%80%E4%B8%AAint%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%A6%82%E6%9E%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E6%B2%A1%E6%9C%89%E5%AF%B9%E5%BA%94%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%8C%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC30%0Aint%20connectionCount%3Denv.getProperty(%22db.connection.count%22%2CInteger.class%2C30)%0A%60%60%60%0A*%20**getRequiredProperty()**%0A%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8getProperty()%E6%96%B9%E6%B3%95%E7%9A%84%E6%97%B6%E5%80%99%E6%B2%A1%E6%9C%89%E6%8C%87%E5%AE%9A%E9%BB%98%E8%AE%A4%E5%80%BC%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%B2%A1%E6%9C%89%E5%AE%9A%E4%B9%89%E7%9A%84%E8%AF%9D%EF%BC%8C%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84%E5%80%BC%E6%98%AFnull%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E5%BF%85%E9%A1%BB%E5%AE%9A%E4%B9%89%E7%9A%84%E8%AF%9D%EF%BC%8C%E4%B8%AA%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8getRequiredProperty()%E6%96%B9%E6%B3%95%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E8%8E%B7%E5%8F%96%E7%9A%84%E5%B1%9E%E6%80%A7%E6%B2%A1%E6%9C%89%E5%AE%9A%E4%B9%89%E4%BC%9A%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E3%80%82%0A*%20**containsProperty()**%0A%E4%BD%BF%E7%94%A8containsProperty()%E6%96%B9%E6%B3%95%E6%9D%A5%E6%A3%80%E6%9F%A5%E6%9F%90%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%EF%BC%8C%E4%BD%BF%E7%94%A8getPropertyAsClass()%E6%96%B9%E6%B3%95%E5%B0%86%E5%B1%9E%E6%80%A7%E8%A7%A3%E6%9E%90%E4%B8%BA%E7%B1%BB%0A*%20**%E6%A3%80%E6%9F%A5%E5%93%AA%E4%BA%9Bprofile%E5%A4%84%E4%BA%8E%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81**%0A%20%20%20%20*%20String%20%5B%5D%20getActiveProfiles()%20%20%20%E8%BF%94%E5%9B%9E%E6%BF%80%E6%B4%BBprofile%E5%90%8D%E7%A7%B0%E7%9A%84%E6%95%B0%E7%BB%84%0A%20%20%20%20*%20String%20%5B%5D%20getDefaultProfiles()%20%E8%BF%94%E5%9B%9E%E9%BB%98%E8%AE%A4profile%E5%90%8D%E7%A7%B0%E7%9A%84%E6%95%B0%E7%BB%84%0A%20%20%20%20*%20boolean%20acceptsProfiles(String...profiles)%20%20%E5%A6%82%E6%9E%9Cenvironment%E6%94%AF%E6%8C%81%E7%BB%99%E5%AE%9Aprofile%E7%9A%84%E8%AF%9D%E5%B0%B1%E8%BF%94%E5%9B%9Etrue%0A%20%23%23%23%23%20%E5%B1%9E%E6%80%A7%E5%8D%A0%E4%BD%8D%E7%AC%A6%0ASpring%E6%94%AF%E6%8C%81%E5%B0%86%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89%E5%88%B0%E5%A4%96%E9%83%A8%E7%9A%84%E5%B1%9E%E6%80%A7%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8%E5%8D%A0%E4%BD%8D%E7%AC%A6%E5%B0%86%E5%85%B6%E6%8F%92%E5%85%A5%E5%88%B0SpringBean%E4%B8%AD%EF%BC%8C%E5%8D%A0%E4%BD%8D%E7%AC%A6%E7%9A%84%E5%BD%A2%E5%BC%8F%E4%B8%BA%E4%BD%BF%E7%94%A8%22%24%7B...%7D%22%E5%8C%85%E8%A3%85%E7%9A%84%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%0A%60%60%60java%0Apublic%20BlankDisc(%0A%20%20%20%20%20%20%20%20%40Value(%22%24%7Bdisc.title%7D%22)%20String%20title%20%2C%0A%20%20%20%20%20%20%20%20%40Value(%22%24%7Bdisc.artist%7D%22)%20String%20artist)%20%7B%0A%20%20%20%20this.title%3Dtitle%3B%0A%20%20%20%20this.artist%3Dartist%3B%0A%7D%0A%60%60%60%0A%E4%B8%BA%E4%BA%86%E4%BD%BF%E7%94%A8%E5%8D%A0%E4%BD%8D%E7%AC%A6%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA**PropertyPlaceholderConfigurer**bean%20%E6%88%96%20**PropertySourcesPlaceholderConfigurer**bean%EF%BC%8C%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%90%8E%E9%9D%A2%E7%9A%84%EF%BC%8C%E4%BB%A5%E4%B8%BA%E5%AE%83%E5%8F%AF%E4%BB%A5%E5%9F%BA%E4%BA%8ESpringEnvironment%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7%E6%BA%90%E6%9D%A5%E8%A7%A3%E6%9E%90%E5%8D%A0%E4%BD%8D%E7%AC%A6%0A%0A%60%60%60java%0A%40Bean%0Apublic%20static%20PropertySourcesPlaceholderConfigurer%20placeholderConfigurer()%7B%0A%20%20%20%20return%20new%20PropertySourcesPlaceholderConfigurer()%0A%7D%0A%60%60%60%0A%60%60%60xml%0A%3Ccontext%20%3A%20property-placeholder%20%2F%3E%0A%60%60%60%0A%23%23%23%23%20Spring%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80%0A%E4%BD%BF%E7%94%A8Spring%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8C%E8%A3%85%E9%85%8D%EF%BC%8CSpEL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A6%81%E6%94%BE%E5%88%B0%22%23%7B...%7D%22%0A%23%23%23%23%23%20SpEL%E7%9A%84%E5%B8%B8%E8%A7%81%E7%89%B9%E6%80%A7%0A*%20%E4%BD%BF%E7%94%A8bean%E7%9A%84ID%E6%9D%A5%E5%BC%95%E7%94%A8bean%0A*%20%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%0A*%20%E5%AF%B9%E5%80%BC%E8%BF%9B%E8%A1%8C%E7%AE%97%E6%95%B0%E3%80%81%E5%85%B3%E7%B3%BB%E5%92%8C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%0A*%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%0A*%20%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%0A%0A*%20*%20*%0A*%20**%23%7B1%7D**%0A%E5%9B%BA%E5%AE%9A%E5%80%BC%0A*%20**%23%7BT(System).currentTimeMillis()%7D**%0A%E8%B0%83%E7%94%A8%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8CSpEL%E4%B8%AD%E8%AE%BF%E9%97%AE%E7%B1%BB%E4%BD%9C%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%96%B9%E6%B3%95(%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95)%E5%92%8C%E5%B8%B8%E9%87%8F%E7%9A%84%E8%AF%9D%EF%BC%8C%E8%A6%81%E4%BE%9D%E8%B5%96%20**T()**%20%E8%BF%99%E4%B8%AA%E8%BF%90%E7%AE%97%E7%AC%A6%0A*%20**%23%7BsgtPeppers.artist%7D**%0A%20%E8%8E%B7%E5%8F%96ID%E4%B8%BAsgtPeppers%E7%9A%84bean%E7%9A%84artist%E5%B1%9E%E6%80%A7%0A*%20**%23%7BsgtPeppers.selectArtist()%7D**%0A%E8%8E%B7%E5%8F%96ID%E4%B8%BAsgtPeppers%E7%9A%84bean%E7%9A%84selectArtist()%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E5%AF%B9%E4%BA%8E%E8%A2%AB%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E6%9D%A5%E8%AF%B4%EF%BC%8C%E6%88%91%E4%BB%AC%E5%90%8C%E6%A0%B7%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%E5%AE%83%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E6%AF%94%E5%A6%82%E8%BF%99%E6%A0%B7%0A%23%7BsgtPeppers.selectArtist().toUpprerCase()%7D%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%86%99%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%A9%BA%E6%8C%87%E9%92%88%E5%BC%82%E5%B8%B8%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%99%E9%87%8C%E9%9D%A2%E5%86%99Java%E4%BB%A3%E7%A0%81%E6%9D%A5%E8%A7%84%E9%81%BF%E5%AE%83%EF%BC%8C%E4%BD%86SpEL%E6%8F%90%E4%BE%9B%E4%BA%86%E6%9B%B4%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%B9%E5%BC%8F%23%7BsgtPeppers.selectArtist()%3F.toUpprerCase()%7D%EF%BC%8C**%22%3F.%22**%20%E4%BC%9A%E5%85%88%E5%88%A4%E6%96%AD%E5%AE%83%E5%B7%A6%E8%BE%B9%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%98%AF%E4%B8%8D%E6%98%AFnull%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%98%AF%E5%88%99%E7%BB%A7%E7%BB%AD%E8%B0%83%E7%94%A8%E5%8F%B3%E8%BE%B9%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAnull%0A*%20**%23%7BsystemProperties%5B'disc.title'%5D%7D**%0A%E5%BC%95%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%0A%0A%0A%23%23%23%23%23%20SpEL%E8%BF%90%E7%AE%97%E7%AC%A6%0A%7C%20%E8%BF%90%E7%AE%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%20%7C%E8%BF%90%E7%AE%97%E7%AC%A6%20%20%7C%0A%7C%20---%20%7C%20---%20%7C%0A%7C%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%7C%20%2B%2C-%2C*%2C%2F%2C%25%2C%5E%20%7C%0A%7C%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%7C%3C%2C%3E%2C%3D%3D%2C%3C%3D%2C%3E%3D%2Clt%2Cgt%2Ceq%2Cle%2Cge%20%20%7C%0A%7C%20%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%20%7C%20%20and%2Cor%2Cnot%2C*%7C%20%7C%0A%7C%20%20%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%7C%3F%3A(ternary)%2C%3F%3A(Elvis)%20%20%7C%0A%7C%20%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%7C%20matches%20%7C%0A%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8EJava%E4%B8%AD%E7%9A%84%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E5%BE%88%E7%9B%B8%E4%BC%BC%0A%E4%B8%80%E7%A7%8D%E7%94%A8%E6%B3%95%E6%98%AF%3F%E5%89%8D%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AAboolean%E5%80%BC%EF%BC%8Cture%E7%9A%84%E6%97%B6%E5%80%99%E6%95%B4%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%E6%98%AF%3A%E4%B9%8B%E5%89%8D%E7%9A%84%E5%80%BC%EF%BC%8C%E5%90%A6%E5%88%99%E6%98%AF%3A%E4%B9%8B%E5%90%8E%E7%9A%84%E5%80%BC%EF%BC%8C%E8%BF%99%E4%B8%8EJava%E4%B8%AD%E5%AE%8C%E5%85%A8%E4%B8%80%E8%87%B4%E3%80%82%E8%BF%98%E6%9C%89%E4%B8%80%E7%A7%8D%E7%94%A8%E6%B3%95%E6%98%AF%E7%94%A8%E6%9D%A5%E5%88%A4%E6%96%ADnull%EF%BC%8C%23%7Bdisc.title%20%3F%20%3A%20'JackSon'%7D%20%E6%95%B4%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BC%9A%E5%88%A4%E6%96%ADdisc.title%E7%9A%84%E5%80%BC%E6%98%AF%E4%B8%8D%E6%98%AFnull%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%BB%93%E6%9E%9C%E5%B0%B1%E6%98%AFJackSon%0A%0A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fexample%0A%23%7Badmin.email%20matches%20'%5Ba-zA-Z0-9._%25%2B-%5D%2B%40%5Ba-zA-Z0-9.-%5D%2B%2F%2F.com'%7D%0A%0A%0A%23%23%23%23%23%20%E8%AE%A1%E7%AE%97%E9%9B%86%E5%90%88%0A*%20%23%7Bjukebox.songs%5B4%5D.title%7D%0A%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88songs%E4%B8%AD%E7%9A%84%E7%AC%AC%E4%BA%94%E4%B8%AA(%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B)%E5%85%83%E7%B4%A0%E7%9A%84title%E5%B1%9E%E6%80%A7%EF%BC%8C%E6%95%B4%E4%B8%AA%E9%9B%86%E5%90%88%E6%9D%A5%E8%87%AAID%E4%B8%BAjukebox%E7%9A%84bean%0A*%20%23%7B'abcd'%5B2%5D%7D%0A%E8%BF%98%E5%8F%AF%E4%BB%A5%E4%BB%8EString%E4%B8%AD%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C%E4%B8%8A%E9%9D%A2%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%E5%B0%B1%E6%98%AF%22c%22%0A%0ASpEL%E8%BF%98%E6%8F%90%E4%BE%9B%E4%BA%86%0A*%20**(.%3F%5B%5D)**%0A%E6%9F%A5%E8%AF%A2%E8%BF%90%E7%AE%97%E7%AC%A6%20**(.%3F%5B%5D)**%20%E7%94%A8%E6%9D%A5%E5%AF%B9%E9%9B%86%E5%90%88%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%EF%BC%8C%5B%5D%E9%87%8C%E9%9D%A2%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%80%BC%E4%B8%BAboolean%E5%80%BC%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%BF%87%E6%BB%A4%E9%80%BB%E8%BE%91%E3%80%82%E7%9B%B8%E5%BD%93%E4%BA%8EStream%E9%87%8C%E9%9D%A2%E7%9A%84filter%0A*%20**(.%5E%5B%5D)**%0A%E8%BF%94%E5%9B%9E%E6%BB%A1%E8%B6%B3%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%B9%E9%85%8D%E9%A1%B9%0A*%20**(.%24%5B%5D)**%0A%E8%BF%94%E5%9B%9E%E6%BB%A1%E8%B6%B3%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8C%B9%E9%85%8D%E9%A1%B9%0A*%20**(.!%5B%5D)**%0A%E6%8A%95%E5%BD%B1%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%8C%E5%AE%83%E4%BC%9A%E4%BB%8E%E9%9B%86%E5%90%88%E7%9A%84%E6%AF%8F%E4%B8%80%E4%B8%AA%E6%88%90%E5%91%98%E4%B8%AD%E9%80%89%E6%8B%A9%E7%89%B9%E5%AE%9A%E7%9A%84%E5%B1%9E%E6%80%A7%E6%94%BE%E5%88%B0%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%E4%B8%AD%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8EStream%E9%87%8C%E9%9D%A2%E7%9A%84map</center></span>
</div></body></html> 